function defaultStyle(e){function t(e,t,o){var r=e+t+o,n=e/r*100,i=t/r*100;return n-i}function o(e,t,o,r,n,i){var a=e+t+o,p=e/a*100,s=t/a*100,l=p-s,c=r+n+i,d=r/c*100,u=n/c*100,T=d-u;return l-T}function r(e,t,o){var r=e+t+o,n=o/r*100;return n}function n(e,t){return(e-t)/t*100}function i(e,t){var o=e,r=t/o*100;return r}function a(){return"election2016"==currentMap?GetColor(t(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),30,20,10,0,-10,-20,-30,-100):"election2012"==currentMap?GetColor(t(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),30,20,10,0,-10,-20,-30,-100):"election2008"==currentMap?GetColor(t(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),30,20,10,0,-10,-20,-30,-100):"thirdparty2016"==currentMap?GetColor2(r(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),8,7,6,5,4,3,2,1):"thirdparty2012"==currentMap?GetColor2(r(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),8,7,6,5,4,3,2,1):"thirdparty2008"==currentMap?GetColor2(r(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),8,7,6,5,4,3,2,1):"thirdparty2008"==currentMap?GetColor2(r(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),8,7,6,5,4,3,2,1):"diff2016"==currentMap?GetColor(o(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),20,10,5,0,-5,-10,-20,-100):"diff2012"==currentMap?GetColor(o(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),20,10,5,0,-5,-10,-20,-100):"census2010"==currentMap?GetColor2(n(e.properties.POP2010,e.properties.POP2000),30,25,20,15,10,5,0,-5):"census2000"==currentMap?GetColor2(n(e.properties.POP2000,e.properties.POP1990),30,25,20,15,10,5,0,-5):"census1990"==currentMap?GetColor2(n(e.properties.POP1990,e.properties.POP1980),30,25,20,15,10,5,0,-5):"demo2010"==currentMap?GetColor2(i(e.properties.POP2010,e.properties.WHI2010),95,90,85,80,75,70,65,60):"demo2000"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.WHI2000),95,90,85,80,75,70,65,60):"black2010"==currentMap?GetColor2(i(e.properties.POP2010,e.properties.BLA2010),20,18,16,14,12,10,8,6):"black2000"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.BLA2000),20,18,16,14,12,10,8,6):"hispanic2010"==currentMap?GetColor2(i(e.properties.POP2010,e.properties.LAT2010),30,27,24,21,18,15,12,9):"hispanic2000"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.LAT2000),30,27,24,21,18,15,12,9):"asian2010"==currentMap?GetColor2(i(e.properties.POP2010,e.properties.ASI2010),8,7,6,5,4,3,2,1):"asian2000"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.ASI2000),8,7,6,5,4,3,2,1):"multiracial2010"==currentMap?GetColor2(i(e.properties.POP2010,e.properties.MUL2010),8,7,6,5,4,3,2,1):"multiracial2000"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.MUL2000),8,7,6,5,4,3,2,1):"native2010"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.NAT2010),4,3.5,3,2.5,2,1.5,1,.5):"native2000"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.NAT2000),4,3.5,3,2.5,2,1.5,1,.5):"pacific2010"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.HAW2010),1.6,1.4,1.2,1,.8,.6,.4,.2):"pacific2000"==currentMap?GetColor2(i(e.properties.POP2000,e.properties.HAW2000),1.6,1.4,1.2,1,.8,.6,.4,.2):void 0}return{fillColor:a(),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function GetColor(e,t,o,r,n,i,a,p,s){return e>t?"#104896":e>o?"#2d67b7":e>r?"#4880ce":e>n?"#87b9ff":e>i?"#f7d4d4":e>a?"#ff9696":e>p?"#ff6d6d":e>s?"#ff2b2b":"#01347c"}function GetColor2(e,t,o,r,n,i,a,p,s){return e>t?"#b30000":e>o?"#e60000":e>r?"#ff1a1a":e>n?"#ff4d4d":e>i?"#ff8080":e>a?"#ffb3b3":e>p?"#ffe6e6":e>s?"#9999ff":"#00008B"}function statesStyle(e){return{weight:3,opacity:1,color:"black",dashArray:"3",fillOpacity:.7}}function highlightFeature(e){if(0==selectMode){var t=e.target;t.setStyle({weight:4,color:highlightColor,dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}}function resetHighlight(e){0==selectMode&&counties2010.resetStyle(e.target)}function resetHighlightContext(e){if(1==selectMode){var t=e.target;4==t.options.weight?(selected=!0,counties2010.resetStyle(e.target)):selected=!1}}function zoomToFeature(e){0==selectMode&&map.fitBounds(e.target.getBounds());var t=e.target;selected=4==t.options.weight?!0:!1,t.setStyle({weight:4,color:selectionColor,dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}function insertElectionChart(e,t){var o=document.getElementById(e);new Chart(o,{type:"pie",data:{labels:["Democrat","Republican","Other"],datasets:[{data:election_data,borderWidth:1,backgroundColor:["blue","red","yellow"]}]},options:{animation:{duration:500,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var o=t.datasets[0].data[e.index],r=t.labels[e.index],n=o.toFixed(2);return r+" "+n+"%"}}},title:{display:!0,text:t}}})}function insertCensusChart(){var e=document.getElementById("chartGrowth");new Chart(e,{type:"line",data:{labels:["1980","1990","2000","2010"],datasets:[{label:"Population Growth",data:census_data,borderWidth:1,backgroundColor:"red",borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:500,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var o=t.datasets[0].data[e.index];t.labels[e.index];return"Pop: "+o.toLocaleString()}}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}function insertDemoChart(e,t){var o=document.getElementById(e);new Chart(o,{type:"bar",data:{labels:demolabels,datasets:[{label:"Race by Percentage of Total",data:demo_data,borderWidth:1,borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:1e3,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var o=t.datasets[0].data[e.index],r=(t.labels[e.index],o.toFixed(2));return r+"%"}}},title:{display:!0,text:t},scales:{xAxes:[{ticks:{autoSkip:!1}}]}}})}function onEachFeature(e,t){function o(){function o(){document.getElementById("democrat").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(l).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(demTot).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(repTot).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(othTot).toLocaleString(),document.getElementById("democrat2").innerHTML=parseFloat(c).toFixed(2)+"%",document.getElementById("republican2").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("independent2").innerHTML=parseFloat(u).toFixed(2)+"%",document.getElementById("democratTotal2").innerHTML=parseInt(demTot2).toLocaleString(),document.getElementById("republicanTotal2").innerHTML=parseInt(repTot2).toLocaleString(),document.getElementById("independentTotal2").innerHTML=parseInt(othTot2).toLocaleString(),document.getElementById("democrat3").innerHTML=parseFloat(T).toFixed(2)+"%",document.getElementById("republican3").innerHTML=parseFloat(m).toFixed(2)+"%",document.getElementById("independent3").innerHTML=parseFloat(g).toFixed(2)+"%",document.getElementById("democratTotal3").innerHTML=parseInt(demTot3).toLocaleString(),document.getElementById("republicanTotal3").innerHTML=parseInt(repTot3).toLocaleString(),document.getElementById("independentTotal3").innerHTML=parseInt(othTot3).toLocaleString()}function r(){document.getElementById("chart_container").innerHTML='<br><br><br><br><canvas id="chartE2016" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2012" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2008" height="90px" width="100px"></canvas>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="dropdown" id="mapChooser"></span>',document.getElementById("mapChooser").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartE2016">16 Graph</a></li><li><a href="#chartE2012">12 Graph</a></li><li><a href="#chartE2008">08 Graph</a></li></ul>'}function n(){p=demTot/(demTot+repTot+othTot)*100,s=repTot/(demTot+repTot+othTot)*100,l=othTot/(demTot+repTot+othTot)*100}function i(){c=demTot2/(demTot2+repTot2+othTot2)*100,d=repTot2/(demTot2+repTot2+othTot2)*100,u=othTot2/(demTot2+repTot2+othTot2)*100}function a(){T=demTot3/(demTot3+repTot3+othTot3)*100,m=repTot3/(demTot3+repTot3+othTot3)*100,g=othTot3/(demTot3+repTot3+othTot3)*100}var p,s,l,c,d,u,T,m,g,h=e.properties.DEM2016+e.properties.REP2016+e.properties.OTH2016,L=e.properties.DEM2016/h*100,E=e.properties.REP2016/h*100,I=e.properties.OTH2016/h*100,y=e.properties.DEM2012+e.properties.REP2012+e.properties.OTH2012,P=e.properties.DEM2012/y*100,b=e.properties.REP2012/y*100,M=e.properties.OTH2012/y*100,H=e.properties.DEM2008+e.properties.REP2008+e.properties.OTH2008,f=e.properties.DEM2008/H*100,C=e.properties.REP2008/H*100,A=e.properties.OTH2008/H*100;t.on({mouseover:highlightFeature,mouseout:resetHighlight,click:zoomToFeature,contextmenu:resetHighlightContext}),t.on("click",function(t){document.getElementById("chart_container").innerHTML='<br><br><br><br><canvas id="chartE2016" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2012" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2008" height="90px" width="100px"></canvas><br><br>',election_data=[L,E,I],document.getElementById("sbar-header").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser"></span>',document.getElementById("mapChooser").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartE2016">16 Graph</a></li><li><a href="#chartE2012">12 Graph</a></li><li><a href="#chartE2008">08 Graph</a></li></ul>',insertElectionChart("chartE2016","2016"),election_data=[P,b,M],insertElectionChart("chartE2012","2012"),election_data=[f,C,A],insertElectionChart("chartE2008","2008"),document.getElementById("democrat").innerHTML=parseFloat(L).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(E).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(I).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(e.properties.DEM2016).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(e.properties.REP2016).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(e.properties.OTH2016).toLocaleString(),document.getElementById("democrat2").innerHTML=parseFloat(P).toFixed(2)+"%",document.getElementById("republican2").innerHTML=parseFloat(b).toFixed(2)+"%",document.getElementById("independent2").innerHTML=parseFloat(M).toFixed(2)+"%",document.getElementById("democratTotal2").innerHTML=parseInt(e.properties.DEM2012).toLocaleString(),document.getElementById("republicanTotal2").innerHTML=parseInt(e.properties.REP2012).toLocaleString(),document.getElementById("independentTotal2").innerHTML=parseInt(e.properties.OTH2012).toLocaleString(),document.getElementById("democrat3").innerHTML=parseFloat(f).toFixed(2)+"%",document.getElementById("republican3").innerHTML=parseFloat(C).toFixed(2)+"%",document.getElementById("independent3").innerHTML=parseFloat(A).toFixed(2)+"%",document.getElementById("democratTotal3").innerHTML=parseInt(e.properties.DEM2008).toLocaleString(),document.getElementById("republicanTotal3").innerHTML=parseInt(e.properties.REP2008).toLocaleString(),document.getElementById("independentTotal3").innerHTML=parseInt(e.properties.OTH2008).toLocaleString(),0==selected&&selectMode===!0&&(selectList.push(e.properties.CO+", "+e.properties.ST+"<br>"),$("#electionTest").html(selectList),"AK"!=e.properties.ST&&(demTot+=parseInt(e.properties.DEM2016),repTot+=parseInt(e.properties.REP2016),othTot+=parseInt(e.properties.OTH2016),demTot2+=parseInt(e.properties.DEM2012),repTot2+=parseInt(e.properties.REP2012),othTot2+=parseInt(e.properties.OTH2012),demTot3+=parseInt(e.properties.DEM2008),repTot3+=parseInt(e.properties.REP2008),othTot3+=parseInt(e.properties.OTH2008)),n(),i(),a()),selectMode===!0&&(r(),election_data=[p,s,l],insertElectionChart("chartE2016","2016"),election_data=[c,d,u],insertElectionChart("chartE2012","2012"),election_data=[T,m,g],insertElectionChart("chartE2008","2008"),o())}),t.on("contextmenu",function(t){if(1==selected){var h=selectList.indexOf(e.properties.CO+", "+e.properties.ST+"<br>");h>-1&&selectList.splice(h,1),$("#electionTest").html(selectList),"AK"!=e.properties.ST&&(demTot-=parseInt(e.properties.DEM2016),repTot-=parseInt(e.properties.REP2016),othTot-=parseInt(e.properties.OTH2016),demTot2-=parseInt(e.properties.DEM2012),repTot2-=parseInt(e.properties.REP2012),othTot2-=parseInt(e.properties.OTH2012),demTot3-=parseInt(e.properties.DEM2008),repTot3-=parseInt(e.properties.REP2008),othTot3-=parseInt(e.properties.OTH2008)),n(),i(),a()}1==selectMode&&1==selected&&(r(),election_data=[p,s,l],insertElectionChart("chartE2016","2016"),election_data=[c,d,u],insertElectionChart("chartE2012","2012"),election_data=[T,m,g],insertElectionChart("chartE2008","2008"),o())})}function r(){function o(){document.getElementById("totpop1").innerHTML=pop2010Tot.toLocaleString(),document.getElementById("totpop2").innerHTML=pop2000Tot.toLocaleString(),document.getElementById("totpop3").innerHTML=pop1990Tot.toLocaleString(),document.getElementById("totpop4").innerHTML=pop1980Tot.toLocaleString(),document.getElementById("gain1").innerHTML=n.toLocaleString(),document.getElementById("gain2").innerHTML=i.toLocaleString(),document.getElementById("gain3").innerHTML=a.toLocaleString(),document.getElementById("growth1").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("growth2").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("growth3").innerHTML=parseFloat(l).toFixed(2)+"%"}function r(){document.getElementById("chart_container2").innerHTML='<br><br><br><br><br><br><br><br><br><br><canvas id="chartGrowth" height="90px" width="100px"></canvas>'}var n=e.properties.POP2010-e.properties.POP2000,i=e.properties.POP2000-e.properties.POP1990,a=e.properties.POP1990-e.properties.POP1980,p=(e.properties.POP2010-e.properties.POP2000)/e.properties.POP2000*100,s=(e.properties.POP2000-e.properties.POP1990)/e.properties.POP1990*100,l=(e.properties.POP1990-e.properties.POP1980)/e.properties.POP1980*100;t.on("click",function(t){document.getElementById("sbar-table").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser2"></span>',document.getElementById("mapChooser2").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartGrowth">1980-2010 Graph</a></li></ul>',r(),census_data=[e.properties.POP1980,e.properties.POP1990,e.properties.POP2000,e.properties.POP2010],insertCensusChart(),document.getElementById("totpop1").innerHTML=e.properties.POP2010.toLocaleString(),document.getElementById("totpop2").innerHTML=e.properties.POP2000.toLocaleString(),document.getElementById("totpop3").innerHTML=e.properties.POP1990.toLocaleString(),document.getElementById("totpop4").innerHTML=e.properties.POP1980.toLocaleString(),document.getElementById("gain1").innerHTML=n.toLocaleString(),document.getElementById("gain2").innerHTML=i.toLocaleString(),document.getElementById("gain3").innerHTML=a.toLocaleString(),document.getElementById("growth1").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("growth2").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("growth3").innerHTML=parseFloat(l).toFixed(2)+"%",0==selected&&selectMode===!0&&(document.getElementById("sbar-table").innerHTML='Selected Counties<span class="dropdown" id="mapChooser2"></span>',document.getElementById("mapChooser2").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartGrowth">1980-2010 Graph</a></li></ul>',pop1980Tot+=parseInt(e.properties.POP1980),pop1990Tot+=parseInt(e.properties.POP1990),pop2000Tot+=parseInt(e.properties.POP2000),pop2010Tot+=parseInt(e.properties.POP2010),n=pop2010Tot-pop2000Tot,i=pop2000Tot-pop1990Tot,a=pop1990Tot-pop1980Tot,p=(pop2010Tot-pop2000Tot)/pop2000Tot*100,s=(pop2000Tot-pop1990Tot)/pop1990Tot*100,l=(pop1990Tot-pop1980Tot)/pop1980Tot*100),selectMode===!0&&(r(),census_data=[pop1980Tot,pop1990Tot,pop2000Tot,pop2010Tot],insertCensusChart(),o())}),t.on("contextmenu",function(t){1==selected&&(pop1980Tot-=parseInt(e.properties.POP1980),pop1990Tot-=parseInt(e.properties.POP1990),pop2000Tot-=parseInt(e.properties.POP2000),pop2010Tot-=parseInt(e.properties.POP2010),n=pop2010Tot-pop2000Tot,i=pop2000Tot-pop1990Tot,a=pop1990Tot-pop1980Tot,p=(pop2010Tot-pop2000Tot)/pop2000Tot*100,s=(pop2000Tot-pop1990Tot)/pop1990Tot*100,l=(pop1990Tot-pop1980Tot)/pop1980Tot*100),1==selectMode&&1==selected&&(r(),census_data=[pop1980Tot,pop1990Tot,pop2000Tot,pop2010Tot],insertCensusChart("chartE2016","2016"),o())})}function n(){function o(){document.getElementById("whitetot2010").innerHTML=whiteTot.toLocaleString(),document.getElementById("whitetot2000").innerHTML=whiteTot2000.toLocaleString(),document.getElementById("blacktot2010").innerHTML=blackTot.toLocaleString(),document.getElementById("blacktot2000").innerHTML=blackTot2000.toLocaleString(),document.getElementById("nativetot2010").innerHTML=nativeTot.toLocaleString(),document.getElementById("nativetot2000").innerHTML=nativeTot2000.toLocaleString(),document.getElementById("asiantot2010").innerHTML=asianTot.toLocaleString(),document.getElementById("asiantot2000").innerHTML=asianTot2000.toLocaleString(),document.getElementById("pactot2010").innerHTML=pacificTot.toLocaleString(),document.getElementById("pactot2000").innerHTML=pacificTot2000.toLocaleString(),document.getElementById("multitot2010").innerHTML=multiracialTot.toLocaleString(),document.getElementById("multitot2000").innerHTML=multiracialTot2000.toLocaleString(),document.getElementById("histot2010").innerHTML=hispanicTot.toLocaleString(),document.getElementById("histot2000").innerHTML=hispanicTot2000.toLocaleString(),document.getElementById("whiteper2010").innerHTML=parseFloat(i).toFixed(2)+"%",document.getElementById("whiteper2000").innerHTML=parseFloat(a).toFixed(2)+"%",document.getElementById("blackper2010").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("blackper2000").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("nativeper2010").innerHTML=parseFloat(l).toFixed(2)+"%",document.getElementById("nativeper2000").innerHTML=parseFloat(c).toFixed(2)+"%",document.getElementById("asianper2010").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("asianper2000").innerHTML=parseFloat(u).toFixed(2)+"%",document.getElementById("pacper2010").innerHTML=parseFloat(T).toFixed(2)+"%",document.getElementById("pacper2000").innerHTML=parseFloat(m).toFixed(2)+"%",document.getElementById("multiper2010").innerHTML=parseFloat(g).toFixed(2)+"%",document.getElementById("multiper2000").innerHTML=parseFloat(h).toFixed(2)+"%",document.getElementById("hisper2010").innerHTML=parseFloat(L).toFixed(2)+"%",document.getElementById("hisper2000").innerHTML=parseFloat(E).toFixed(2)+"%"}function r(){document.getElementById("chart_container3").innerHTML='<br><br><br><br><br><br><br><br><br><br><canvas id="chartD2010" height="100px" width="100px"></canvas><br><br><br><canvas id="chartD2000" height="100px" width="100px"></canvas><br>'}function n(){i=whiteTot/pop2010Tot*100,a=whiteTot2000/pop2000Tot*100,p=blackTot/pop2010Tot*100,s=blackTot2000/pop2000Tot*100,l=nativeTot/pop2010Tot*100,c=nativeTot2000/pop2000Tot*100,d=asianTot/pop2010Tot*100,u=asianTot2000/pop2000Tot*100,T=pacificTot/pop2010Tot*100,m=pacificTot2000/pop2000Tot*100,g=multiracialTot/pop2010Tot*100,h=multiracialTot2000/pop2000Tot*100,L=hispanicTot/pop2010Tot*100,E=hispanicTot2000/pop2000Tot*100}var i,a,p,s,l,c,d,u,T,m,g,h,L,E,I=e.properties.WHI2010/e.properties.POP2010*100,y=e.properties.WHI2000/e.properties.POP2000*100,P=e.properties.BLA2010/e.properties.POP2010*100,b=e.properties.BLA2000/e.properties.POP2000*100,M=e.properties.NAT2010/e.properties.POP2010*100,H=e.properties.NAT2000/e.properties.POP2000*100,f=e.properties.ASI2010/e.properties.POP2010*100,C=e.properties.ASI2000/e.properties.POP2000*100,A=e.properties.HAW2010/e.properties.POP2010*100,O=e.properties.HAW2000/e.properties.POP2000*100,B=e.properties.MUL2010/e.properties.POP2010*100,S=e.properties.MUL2000/e.properties.POP2000*100,v=e.properties.LAT2010/e.properties.POP2010*100,N=e.properties.LAT2000/e.properties.POP2000*100;t.on("click",function(t){document.getElementById("demoHeader").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser3"></span>',document.getElementById("mapChooser3").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartD2010">2010 Graph</a></li><li><a href="#chartD2000">2000 Graph</a></li></ul>',r(),demo_data=[I,P,M,f,A,B,v],insertDemoChart("chartD2010","2010"),demo_data=[y,b,H,C,O,S,N],insertDemoChart("chartD2000","2000"),document.getElementById("whitetot2010").innerHTML=e.properties.WHI2010.toLocaleString(),document.getElementById("whitetot2000").innerHTML=e.properties.WHI2000.toLocaleString(),document.getElementById("blacktot2010").innerHTML=e.properties.BLA2010.toLocaleString(),document.getElementById("blacktot2000").innerHTML=e.properties.BLA2000.toLocaleString(),document.getElementById("nativetot2010").innerHTML=e.properties.NAT2010.toLocaleString(),document.getElementById("nativetot2000").innerHTML=e.properties.NAT2000.toLocaleString(),document.getElementById("asiantot2010").innerHTML=e.properties.ASI2010.toLocaleString(),document.getElementById("asiantot2000").innerHTML=e.properties.ASI2000.toLocaleString(),document.getElementById("pactot2010").innerHTML=e.properties.HAW2010.toLocaleString(),document.getElementById("pactot2000").innerHTML=e.properties.HAW2000.toLocaleString(),document.getElementById("multitot2010").innerHTML=e.properties.MUL2010.toLocaleString(),document.getElementById("multitot2000").innerHTML=e.properties.MUL2000.toLocaleString(),document.getElementById("histot2010").innerHTML=e.properties.LAT2010.toLocaleString(),document.getElementById("histot2000").innerHTML=e.properties.LAT2000.toLocaleString(),document.getElementById("whiteper2010").innerHTML=parseFloat(I).toFixed(2)+"%",document.getElementById("whiteper2000").innerHTML=parseFloat(y).toFixed(2)+"%",document.getElementById("blackper2010").innerHTML=parseFloat(P).toFixed(2)+"%",document.getElementById("blackper2000").innerHTML=parseFloat(b).toFixed(2)+"%",document.getElementById("nativeper2010").innerHTML=parseFloat(M).toFixed(2)+"%",document.getElementById("nativeper2000").innerHTML=parseFloat(H).toFixed(2)+"%",document.getElementById("asianper2010").innerHTML=parseFloat(f).toFixed(2)+"%",document.getElementById("asianper2000").innerHTML=parseFloat(C).toFixed(2)+"%",document.getElementById("pacper2010").innerHTML=parseFloat(A).toFixed(2)+"%",document.getElementById("pacper2000").innerHTML=parseFloat(O).toFixed(2)+"%",document.getElementById("multiper2010").innerHTML=parseFloat(B).toFixed(2)+"%",document.getElementById("multiper2000").innerHTML=parseFloat(S).toFixed(2)+"%",document.getElementById("hisper2010").innerHTML=parseFloat(v).toFixed(2)+"%",document.getElementById("hisper2000").innerHTML=parseFloat(N).toFixed(2)+"%",0==selected&&selectMode===!0&&(document.getElementById("demoHeader").innerHTML='Selected Counties<span class="dropdown" id="mapChooser3"></span>',document.getElementById("mapChooser3").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartD2010">2010 Graph</a></li><li><a href="#chartD2000">2000 Graph</a></li></ul>',whiteTot+=parseInt(e.properties.WHI2010),blackTot+=parseInt(e.properties.BLA2010),nativeTot+=parseInt(e.properties.NAT2010),asianTot+=parseInt(e.properties.ASI2010),pacificTot+=parseInt(e.properties.HAW2010),multiracialTot+=parseInt(e.properties.MUL2010),hispanicTot+=parseInt(e.properties.LAT2010),whiteTot2000+=parseInt(e.properties.WHI2000),blackTot2000+=parseInt(e.properties.BLA2000),nativeTot2000+=parseInt(e.properties.NAT2000),asianTot2000+=parseInt(e.properties.ASI2000),pacificTot2000+=parseInt(e.properties.HAW2000),multiracialTot2000+=parseInt(e.properties.MUL2000),hispanicTot2000+=parseInt(e.properties.LAT2000),n()),selectMode===!0&&(r(),demo_data=[i,p,l,d,T,g,L],insertDemoChart("chartD2010","2010"),demo_data=[a,s,c,u,m,h,E],insertDemoChart("chartD2000","2000"),o())}),t.on("contextmenu",function(t){1==selected&&(whiteTot-=parseInt(e.properties.WHI2010),blackTot-=parseInt(e.properties.BLA2010),nativeTot-=parseInt(e.properties.NAT2010),asianTot-=parseInt(e.properties.ASI2010),pacificTot-=parseInt(e.properties.HAW2010),multiracialTot-=parseInt(e.properties.MUL2010),hispanicTot-=parseInt(e.properties.LAT2010),whiteTot2000-=parseInt(e.properties.WHI2000),blackTot2000-=parseInt(e.properties.BLA2000),nativeTot2000-=parseInt(e.properties.NAT2000),asianTot2000-=parseInt(e.properties.ASI2000),pacificTot2000-=parseInt(e.properties.HAW2000),multiracialTot2000-=parseInt(e.properties.MUL2000),hispanicTot2000-=parseInt(e.properties.LAT2000),n()),1==selectMode&&1==selected&&(r(),demo_data=[I,P,M,f,A,B,v],insertDemoChart("chartD2010","2010"),demo_data=[y,b,H,C,O,S,N],insertDemoChart("chartD2000","2000"),o())})}function i(o,r,n){var i=o+r+n,a=o/i*100,p=r/i*100,s=n/i*100;"thirdparty2016"==currentMap||"thirdparty2012"==currentMap||"thirdparty2008"==currentMap?t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>% Third Party:&nbsp;</b>"+s.toFixed(2)+"%",{permanent:!1}):t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Democrat:&nbsp;</b>"+a.toFixed(2)+"%<br> <b>Republican:&nbsp;</b>"+Number(p).toFixed(2)+"%</div>",{permanent:!1})}function a(o,r,n,i,a,p){var s,l=o+r+n,c=o/l*100,d=r/l*100,u=c-d,T=i+a+p,m=i/T*100,g=a/T*100,h=m-g,L=u-h;s=u>h?"D":"R",t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Change:&nbsp;</b>+"+Math.abs(L).toFixed(2)+"% "+s,{permanent:!1})}function p(o,r){var n=(o-r)/r*100;t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Total Population:&nbsp;</b>"+parseInt(o).toLocaleString()+"<br> <b>Population Growth:&nbsp;</b>"+Number(n).toFixed(2)+"%</div>",{permanent:!1})}function s(o,r){var n=o,i=r/n*100;t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Total "+ethnicGroup+":&nbsp;</b>"+parseInt(r).toLocaleString()+"<br> <b>Percent "+ethnicGroup+":&nbsp;</b>"+Number(i).toFixed(2)+"%</div>",{permanent:!1})}o(),r(),n(),e.properties&&(i(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),$("#ex21").slider().on("change",function(t){var o=$("#ex21").data("slider").getValue();2016==o&&"president"==ethnicGroup&&i(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),2012==o&&"president"==ethnicGroup&&i(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),2008==o&&"president"==ethnicGroup&&i(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),2016==o&&"thirdparty"==ethnicGroup&&i(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),2012==o&&"thirdparty"==ethnicGroup&&i(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),2008==o&&"thirdparty"==ethnicGroup&&i(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),2016==o&&"votechange"==ethnicGroup&&a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),2012==o&&"votechange"==ethnicGroup&&a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008)}),$("#ex22").slider().on("change",function(t){var o=$("#ex22").data("slider").getValue();2010==o&&"White"==ethnicGroup&&s(e.properties.POP2010,e.properties.WHI2010),2010==o&&"Black"==ethnicGroup&&s(e.properties.POP2010,e.properties.BLA2010),2010==o&&"Latino/Hispanic"==ethnicGroup&&s(e.properties.POP2010,e.properties.LAT2010),2010==o&&"Asian"==ethnicGroup&&s(e.properties.POP2010,e.properties.ASI2010),2010==o&&"Multiracial"==ethnicGroup&&s(e.properties.POP2010,e.properties.MUL2010),2010==o&&"N.American/Alaskan"==ethnicGroup&&s(e.properties.POP2010,e.properties.NAT2010),2010==o&&"Hawaiian/Pac.Isl."==ethnicGroup&&s(e.properties.POP2010,e.properties.HAW2010),2e3==o&&"White"==ethnicGroup&&s(e.properties.POP2000,e.properties.WHI2000),2e3==o&&"Black"==ethnicGroup&&s(e.properties.POP2000,e.properties.BLA2000),2e3==o&&"Latino/Hispanic"==ethnicGroup&&s(e.properties.POP2000,e.properties.LAT2000),2e3==o&&"Asian"==ethnicGroup&&s(e.properties.POP2000,e.properties.ASI2000),2e3==o&&"Multiracial"==ethnicGroup&&s(e.properties.POP2000,e.properties.MUL2000),2e3==o&&"N.American/Alaskan"==ethnicGroup&&s(e.properties.POP2000,e.properties.NAT2000),2e3==o&&"Hawaiian/Pac.Isl."==ethnicGroup&&s(e.properties.POP2000,e.properties.HAW2000),2010==o&&"popgrowth"==ethnicGroup&&p(e.properties.POP2010,e.properties.POP2000),2e3==o&&"popgrowth"==ethnicGroup&&p(e.properties.POP2000,e.properties.POP1990),1990==o&&"popgrowth"==ethnicGroup&&p(e.properties.POP1990,e.properties.POP1980)}),$("#election_16").click(function(){i(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016)}),$("#third_16").click(function(){i(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016)}),$("#diff_16").click(function(){a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012)}),$("#census_10").click(function(){p(e.properties.POP2010,e.properties.POP2000)}),$("#demo_10").click(function(){s(e.properties.POP2010,e.properties.WHI2010)}),$("#black_10").click(function(){s(e.properties.POP2010,e.properties.BLA2010)}),$("#hispanic_10").click(function(){s(e.properties.POP2010,e.properties.LAT2010)}),$("#asian_10").click(function(){s(e.properties.POP2010,e.properties.ASI2010)}),$("#multiracial_10").click(function(){s(e.properties.POP2010,e.properties.MUL2010)}),$("#native_10").click(function(){s(e.properties.POP2010,e.properties.NAT2010)}),$("#pacific_10").click(function(){s(e.properties.POP2010,e.properties.HAW2010)}))}function collapse_sidebar(e){document.getElementById(e).addEventListener("click",function(){document.getElementById("sidebar").className="sidebar sidebar-left collapsed"})}function createLegend9(e,t,o,r,n,i,a,p,s){return'<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="colorlegend1"></td><td>'+s+'%+</td></tr><tr><td class="color" id="colorlegend2"></td><td>'+p+'%</td></tr></tr><tr><td class="color" id="colorlegend3"></td><td>'+a+'%</td></tr></tr><tr><td class="color" id="colorlegend4"></td><td>'+i+'%</td></tr></tr><tr><td class="color" id="colorlegend5"></td><td>'+n+'%</td></tr></tr><tr><td class="color" id="colorlegend6"></td><td>'+r+'%</td></tr></tr><tr><td class="color" id="colorlegend7"></td><td>'+o+'%</td></tr></tr><tr><td class="color" id="colorlegend8"></td><td>'+t+'%</td></tr></tr><tr><td class="color" id="colorlegend9"></td><td>'+e+"%</td></tr>";
}function createLegend8(e,t,o,r,n,i,a,p){return'<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="electionlegend1"></td><td>'+p+'%+ D</td></tr><tr><td class="color" id="electionlegend2"></td><td>'+a+'% D</td></tr></tr><tr><td class="color" id="electionlegend3"></td><td>'+i+'% D</td></tr></tr><tr><td class="color" id="electionlegend4"></td><td>'+n+'% D</td></tr></tr><tr><td class="color" id="electionlegend5"></td><td>'+r+'% R</td></tr></tr><tr><td class="color" id="electionlegend6"></td><td>'+o+'% R</td></tr></tr><tr><td class="color" id="electionlegend7"></td><td>'+t+'% R</td></tr></tr><tr><td class="color" id="electionlegend8"></td><td>'+e+"% R</td></tr>"}function layerControls(e,t,o,r){clearStuff(),currentMap=e,ethnicGroup=r,counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>"+t+"</center>",map.removeControl(currentLegend),currentLegend=o,o.addTo(map)}function clearStuff(){selectList=[],$("#electionTest").html(selectList),demTot=0,repTot=0,othTot=0,demTot2=0,repTot2=0,othTot2=0,demTot3=0,repTot3=0,othTot3=0,pop2010Tot=0,pop2000Tot=0,pop1990Tot=0,pop1980Tot=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,whiteTot2000=0,blackTot2000=0,nativeTot2000=0,asianTot2000=0,pacificTot2000=0,multiracialTot2000=0,hispanicTot2000=0,counties2010.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})}function mobileSlider(){return $(window).width()>500?tooltipPosition="left":$(window).width()<500?tooltipPosition="right":void 0}var new2010,election2012,election2008,census2010,census2000,demo2010,demo2000,states,election_data,census_data,demo_data,labels,map,sidebar,osm,electionLegend,censusLegend,demoLegend,currentLegend,currentMap="election2016",currentTable,options,demTot=0,repTot=0,othTot=0,demTot2=0,repTot2=0,othTot2=0,demTot3=0,repTot3=0,othTot3=0,pop2010Tot=0,pop2000Tot=0,pop1990Tot=0,pop1980Tot=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,whiteTot2000=0,blackTot2000=0,nativeTot2000=0,asianTot2000=0,pacificTot2000=0,multiracialTot2000=0,hispanicTot2000=0,selectMode=!1,selectList=[],selected=!1,ethnicGroup,tooltipPosition,colorPicker=$("#highlightColor"),highlightColor=$("#highlightColor").val();$(colorPicker).change(function(){highlightColor=$("#highlightColor").val()});var colorPicker2=$("#selectionColor"),selectionColor=$("#selectionColor").val();if($(colorPicker2).change(function(){selectionColor=$("#selectionColor").val()}),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()}),$(window).width()>700)var demolabels=["White",["Black or","African American"],["American Indian or","Alaska Native"],"Asian",["Native Hawaiian or","Other Pacific Islander"],["Multiracial"],["Hispanic or","Latino"]];else var demolabels=["White",["Black"],["Nat. Am/Nat. AK."],"Asian",["Nat. HI/Pac-Isl"],["Multiracial"],["Hisp/Lat"]];if(map=L.map("map",{center:[39.1,-94.5],zoom:4.5,zoomControl:!1}),map.createPane("labels"),map.getPane("labels").style.zIndex=500,map.getPane("labels").style.pointerEvents="none",osm=L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(map),counties2010=new L.GeoJSON.AJAX("geography/2010.geojson",{style:defaultStyle,onEachFeature:onEachFeature}).addTo(map),states=new L.GeoJSON.AJAX("geography/states-min.geojson",{style:statesStyle,pane:"labels"}).addTo(map),sidebar=L.control.sidebar("sidebar").addTo(map),document.getElementById("disable_legend").addEventListener("click",function(){document.getElementById("disable_legend").checked?map.removeControl(currentLegend):map.addControl(currentLegend)}),document.getElementById("bigMapMode").addEventListener("click",function(){if(document.getElementById("bigMapMode").checked){var e=document.getElementsByTagName("body")[0],t=document.getElementsByTagName("html")[0];e.style.padding="0",e.style.height="100%",t.style.height="100%",map.invalidateSize()}else{var e=document.getElementsByTagName("body")[0],t=document.getElementsByTagName("html")[0];e.style.padding="70px 2% 0 2%",e.style.height="94%",t.style.height="94%",map.invalidateSize()}}),L.control.scale().addTo(map),new L.Control.Zoom({position:"topright"}).addTo(map),electionLegend=L.control({position:"bottomright"}),electionLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return"thirdparty2016"==currentMap||"thirdparty2012"==currentMap||"thirdparty2008"==currentMap?(t.innerHTML+=createLegend9("0-1","1-2","2-3","3-4","4-5","5-6","6-7","7-8","8"),t):"diff2016"==currentMap||"diff2012"==currentMap?(t.innerHTML+=createLegend8("20","10-20","5-10","0-5","0-5","5-10","10-20","20"),t):(t.innerHTML+=createLegend8("30","20-30","10-20","0-10","0-10","10-20","20-30","30"),t)},censusLegend=L.control({position:"bottomright"}),censusLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return t.innerHTML+=createLegend9("-5","-5-0","0-5","5-10","10-15","15-20","20-25","25-30","30"),t},demoLegend=L.control({position:"bottomright"}),demoLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return"demo2010"==currentMap||"demo2000"==currentMap?(t.innerHTML+=createLegend9("0-60","60-65","65-70","70-75","75-80","80-85","85-90","90-95","95"),t):"black2010"==currentMap||"black2000"==currentMap?(t.innerHTML+=createLegend9("0-6","6-8","8-10","10-12","12-14","14-16","16-18","18-20","20"),t):"hispanic2010"==currentMap||"hispanic2000"==currentMap?(t.innerHTML+=createLegend9("0-9","9-12","12-15","15-18","18-21","21-24","24-27","27-30","30"),t):"asian2010"==currentMap||"asian2000"==currentMap||"multiracial2010"==currentMap||"multiracial2000"==currentMap?(t.innerHTML+=createLegend9("0-1","1-2","2-3","3-4","4-5","5-6","6-7","7-8","8"),t):"native2010"==currentMap||"native2000"==currentMap?(t.innerHTML+=createLegend9("0-.5",".5-1","1-1.5","1.5-2","2-2.5","2.5-3","3-3.5","3.5-4","4"),t):"pacific2010"==currentMap||"pacific2000"==currentMap?(t.innerHTML+=createLegend9("0-0.2","0.2-0.4","0.4-0.6","0.6-0.8","0.8-1.0","1.0-1.2","1.2-1.4","1.4-1.6","1.6"),t):void 0},electionLegend.addTo(map),currentLegend=electionLegend,counties2010.on("data:loaded",function(){$(".loader").fadeOut("slow")}),$(window).width()<450&&(document.getElementById("sidebar").className="sidebar sidebar-left",document.getElementById("infotab").className="active",document.getElementById("info_chart").className="sidebar-pane ui-draggable-handle active",document.getElementById("userMessage").innerHTML="Scroll down for info charts and map options.",document.getElementById("countySearch").innerHTML="<input type='text' id='county_search' class='form-control' placeholder='Find a county'/>",document.getElementById("searchDiv").innerHTML=""),options={data:coordinates,getValue:"County",list:{maxNumberOfElements:6,match:{enabled:!0},onChooseEvent:function(){var e=$("#county_search").getSelectedItemData().Latitude,t=$("#county_search").getSelectedItemData().Longitude;map.setView([e,t],9)}}},$("#county_search").easyAutocomplete(options),currentMap="election2016",ethnicGroup="president",currentTable=document.getElementById("election_table"),document.getElementById("mapTitleText").innerHTML="<center>2016: PRESIDENTIAL ELECTION RESULTS</center>",$("#election_08").click(function(){layerControls("election2008","2008: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president")}),$("#election_12").click(function(){layerControls("election2012","2012: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president")}),$("#election_16").click(function(){layerControls("election2016","2016: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president")}),$("#census_90").click(function(){layerControls("census1990","1990: POPULATION GROWTH SINCE 1980",censusLegend,"popgrowth")}),$("#census_00").click(function(){layerControls("census2000","2000: POPULATION GROWTH SINCE 1990",censusLegend,"popgrowth")}),$("#census_10").click(function(){layerControls("census2010","2010: POPULATION GROWTH SINCE 2000",censusLegend,"popgrowth")}),$("#demo_00").click(function(){layerControls("demo2000","2000: PERCENT WHITE",demoLegend,"White")}),$("#demo_10").click(function(){layerControls("demo2010","2010: PERCENT WHITE",demoLegend,"White")}),$("#black_10").click(function(){layerControls("black2010","2010: PERCENT BLACK",demoLegend,"Black")}),$("#black_00").click(function(){layerControls("black2000","2000: PERCENT BLACK",demoLegend,"Black")}),$("#hispanic_10").click(function(){layerControls("hispanic2010","2010: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic")}),$("#hispanic_00").click(function(){layerControls("hispanic2000","2000: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic")}),$("#asian_10").click(function(){layerControls("asian2010","2010: PERCENT ASIAN",demoLegend,"Asian")}),$("#asian_00").click(function(){layerControls("asian2000","2000: PERCENT ASIAN",demoLegend,"Asian")}),$("#multiracial_10").click(function(){layerControls("multiracial2010","2010: PERCENT MULTIRACIAL",demoLegend,"Multiracial")}),$("#multiracial_00").click(function(){layerControls("multiracial2000","2000: PERCENT MULTIRACIAL",demoLegend,"Multiracial")}),$("#native_10").click(function(){layerControls("native2010","2010: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan")}),$("#native_00").click(function(){layerControls("native2000","2000: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan")}),$("#pacific_10").click(function(){layerControls("pacific2010","2010: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl.")}),$("#pacific_00").click(function(){layerControls("pacific2000","2000: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl.")}),$("#third_16").click(function(){layerControls("thirdparty2016","2016: PERCENT THIRD PARTY",electionLegend,"thirdparty")}),$("#third_12").click(function(){layerControls("thirdparty2012","2012: PERCENT THIRD PARTY",electionLegend,"thirdparty")}),$("#third_08").click(function(){layerControls("thirdparty2008","2008: PERCENT THIRD PARTY",electionLegend,"thirdparty")}),$("#diff_16").click(function(){layerControls("diff2016","2016: VOTE SWING FROM 2012",electionLegend,"votechange")}),$("#diff_12").click(function(){layerControls("diff2012","2012: VOTE SWING FROM 2008",electionLegend,"votechange")}),$(".state_outlines").click(function(){map.hasLayer(states)===!1?map.addLayer(states):map.removeLayer(states)}),$(".base_map").click(function(){map.hasLayer(osm)===!1?map.addLayer(osm):map.removeLayer(osm)}),$(".selectMode").click(function(){selectMode=selectMode===!1?!0:!1,selectList=[],$("#electionTest").html(selectList),counties2010.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})}),$(".layercontrol").click(function(){clearStuff()}),$(".clearSelection").click(function(){clearStuff()}),$(document).ready(function(){$(".dropdown-submenu a.test").on("click",function(e){$(this).next("ul").toggle(),e.stopPropagation(),e.preventDefault()})}),$(window).width()>500)var timeslider=L.control({position:"topright"}),timeslider2=L.control({position:"topright"});else var timeslider=L.control({position:"topleft"}),timeslider2=L.control({position:"topleft"});timeslider.onAdd=function(e){return timeslideDiv=L.DomUtil.create("div","slider2"),timeslideDiv.innerHTML='<input id="ex21" type="text" data-provide="slider" data-slider-ticks="[2008,2012,2016]" data-slider-ticks-labels=\'["2008", "2012", "2016"]\' data-slider-min="2008" data-slider-max="2016" data-slider-step="4" data-slider-value="2016" data-slider-tooltip="always" data-slider-orientation="vertical" />',L.DomEvent.disableClickPropagation(timeslideDiv),timeslideDiv},map.addControl(timeslider),timeslider2.onAdd=function(e){return timeslideDiv2=L.DomUtil.create("div","slider3"),timeslideDiv2.innerHTML='<input id="ex22" type="text" data-provide="slider" data-slider-ticks="[1990,2000,2010]" data-slider-ticks-labels=\'["1990", "2000", "2010"]\' data-slider-min="1990" data-slider-max="2010" data-slider-step="10" data-slider-value="2010" data-slider-tooltip="always"data-slider-orientation="vertical" />',L.DomEvent.disableClickPropagation(timeslideDiv2),timeslideDiv2},map.addControl(timeslider2),mobileSlider(),$("#ex21").slider({tooltip_position:tooltipPosition,ticks_labels:["","",""],value:2016,reversed:!0}),$("#ex22").slider({tooltip_position:tooltipPosition,ticks_labels:["","",""],value:2010,reversed:!0}),$("#diff_16").click(function(){$("#ex21").slider({tooltip_position:tooltipPosition,ticks:[2012,2016],ticks_labels:["","",""],value:2016,reversed:!0})}),$("#election_16, #third_16").click(function(){$("#ex21").slider({tooltip_position:tooltipPosition,ticks:[2008,2012,2016],ticks_labels:["","",""],value:2016,reversed:!0})}),$("#census_10").click(function(){$("#ex22").slider({tooltip_position:tooltipPosition,ticks:[1990,2e3,2010],ticks_labels:["","",""],value:2010,reversed:!0})}),$("#demo_10, #black_10, #hispanic_10, #asian_10, #multiracial_10, #native_10, #pacific_10").click(function(){$("#ex22").slider({tooltip_position:tooltipPosition,ticks:[2e3,2010],ticks_labels:["","",""],value:2010,reversed:!0})}),$("#ex21").slider().on("change",function(e){var t=$("#ex21").data("slider").getValue();2016==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2016","2016: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2016","2016: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2016","2016: VOTE SWING FROM 2012",electionLegend,"votechange")),2012==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2012","2012: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2012","2012: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2012","2012: VOTE SWING FROM 2008",electionLegend,"votechange")),2008==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2008","2008: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2008","2008: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"))}),$(".layercontrol").on("click",function(){currentLegend==electionLegend?($(".slider3").css("display","none"),$(".slider2").css("display","inline"),$("#ex21").slider("refresh")):($(".slider2").css("display","none"),$(".slider3").css("display","inline"),$("#ex22").slider("refresh")),$("#ex21").slider().on("change",function(e){var t=$("#ex21").data("slider").getValue();2016==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2016","2016: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2016","2016: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2016","2016: VOTE SWING FROM 2012",electionLegend,"votechange")),2012==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2012","2012: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2012","2012: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2012","2012: VOTE SWING FROM 2008",electionLegend,"votechange")),2008==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2008","2008: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2008","2008: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"))}),$("#ex22").slider().on("change",function(e){var t=$("#ex22").data("slider").getValue();2010==t&&("popgrowth"==ethnicGroup&&layerControls("census2010","2010: POPULATION GROWTH SINCE 2000",censusLegend,"popgrowth"),"White"==ethnicGroup&&layerControls("demo2010","2010: PERCENT WHITE",demoLegend,"White"),"Black"==ethnicGroup&&layerControls("black2010","2010: PERCENT BLACK",demoLegend,"Black"),"Latino/Hispanic"==ethnicGroup&&layerControls("hispanic2010","2010: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic"),"Asian"==ethnicGroup&&layerControls("asian2010","2010: PERCENT ASIAN",demoLegend,"Asian"),"Multiracial"==ethnicGroup&&layerControls("multiracial2010","2010: PERCENT MULTIRACIAL",demoLegend,"Multiracial"),"N.American/Alaskan"==ethnicGroup&&layerControls("native2010","2010: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan"),"Hawaiian/Pac.Isl."==ethnicGroup&&layerControls("pacific2010","2010: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl.")),2e3==t&&("popgrowth"==ethnicGroup&&layerControls("census2000","2000: POPULATION GROWTH SINCE 1990",censusLegend,"popgrowth"),"White"==ethnicGroup&&layerControls("demo2000","2000: PERCENT WHITE",demoLegend,"White"),"Black"==ethnicGroup&&layerControls("black2000","2000: PERCENT BLACK",demoLegend,"Black"),"Latino/Hispanic"==ethnicGroup&&layerControls("hispanic2000","2000: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic"),"Asian"==ethnicGroup&&layerControls("asian2000","2000: PERCENT ASIAN",demoLegend,"Asian"),"Multiracial"==ethnicGroup&&layerControls("multiracial2000","2000: PERCENT MULTIRACIAL",demoLegend,"Multiracial"),"N.American/Alaskan"==ethnicGroup&&layerControls("native2000","2000: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan"),"Hawaiian/Pac.Isl."==ethnicGroup&&layerControls("pacific2000","2000: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl.")),1990==t&&"popgrowth"==ethnicGroup&&layerControls("census1990","1990: POPULATION GROWTH SINCE 1980",censusLegend,"popgrowth")})});