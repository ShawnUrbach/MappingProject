function defaultStyle(e){function t(e,t,r){var o=e+t+r,i=e/o*100,a=t/o*100;return i-a}function r(e,t,r){var o=e+t+r,i=e/o*100,a=t/o*100;return a-i}function o(e,t,r,o,i,a){var p=e+t+r,n=e/p*100,s=t/p*100,l=n-s,c=o+i+a,d=o/c*100,u=i/c*100,T=d-u;return l-T}function i(e,t,r,o,i,a){var p=e+t+r,n=e/p*100,s=t/p*100,l=s-n,c=o+i+a,d=o/c*100,u=i/c*100,T=u-d;return l-T}function a(e,t,r){var o=e+t+r,i=r/o*100;return i}function p(e,t){return(e-t)/t*100}function n(e,t){var r=e,o=t/r*100;return o}function s(){if("election2016"==currentMap)return GetColor(t(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),30,20,10,0,-10,-20,-30,-100);if("election2012"==currentMap)return GetColor(t(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),30,20,10,0,-10,-20,-30,-100);if("election2008"==currentMap)return GetColor(t(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),30,20,10,0,-10,-20,-30,-100);if("thirdparty2016"==currentMap)return GetColor2(a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),8,7,6,5,4,3,2,1);if("thirdparty2012"==currentMap)return GetColor2(a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),8,7,6,5,4,3,2,1);if("thirdparty2008"==currentMap)return GetColor2(a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),8,7,6,5,4,3,2,1);if("thirdparty2008"==currentMap)return GetColor2(a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),8,7,6,5,4,3,2,1);if("diff2016"==currentMap)return GetColor(o(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),20,10,5,0,-5,-10,-20,-100);if("diff2012"==currentMap)return GetColor(o(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),20,10,5,0,-5,-10,-20,-100);if("census2010"==currentMap)return GetColor2(p(e.properties.POP2010,e.properties.POP2000),30,25,20,15,10,5,0,-5);if("census2000"==currentMap)return GetColor2(p(e.properties.POP2000,e.properties.POP1990),30,25,20,15,10,5,0,-5);if("census1990"==currentMap)return GetColor2(p(e.properties.POP1990,e.properties.POP1980),30,25,20,15,10,5,0,-5);if("demo2010"==currentMap)return GetColor2(n(e.properties.POP2010,e.properties.WHI2010),95,90,85,80,75,70,65,60);if("demo2000"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.WHI2000),95,90,85,80,75,70,65,60);if("black2010"==currentMap)return GetColor2(n(e.properties.POP2010,e.properties.BLA2010),20,18,16,14,12,10,8,6);if("black2000"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.BLA2000),20,18,16,14,12,10,8,6);if("hispanic2010"==currentMap)return GetColor2(n(e.properties.POP2010,e.properties.LAT2010),30,27,24,21,18,15,12,9);if("hispanic2000"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.LAT2000),30,27,24,21,18,15,12,9);if("asian2010"==currentMap)return GetColor2(n(e.properties.POP2010,e.properties.ASI2010),8,7,6,5,4,3,2,1);if("asian2000"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.ASI2000),8,7,6,5,4,3,2,1);if("multiracial2010"==currentMap)return GetColor2(n(e.properties.POP2010,e.properties.MUL2010),8,7,6,5,4,3,2,1);if("multiracial2000"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.MUL2000),8,7,6,5,4,3,2,1);if("native2010"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.NAT2010),4,3.5,3,2.5,2,1.5,1,.5);if("native2000"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.NAT2000),4,3.5,3,2.5,2,1.5,1,.5);if("pacific2010"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.HAW2010),1.6,1.4,1.2,1,.8,.6,.4,.2);if("pacific2000"==currentMap)return GetColor2(n(e.properties.POP2000,e.properties.HAW2000),1.6,1.4,1.2,1,.8,.6,.4,.2);switch($("#userVariable1").val()){case"Pop2010":userVariable=e.properties.POP2010;break;case"Pop2000":userVariable=e.properties.POP2000;break;case"Pop1990":userVariable=e.properties.POP1990;break;case"Pop1980":userVariable=e.properties.POP1980;break;case"Growth2010":userVariable=p(e.properties.POP2010,e.properties.POP2000);break;case"Growth2000":userVariable=p(e.properties.POP2000,e.properties.POP1990);break;case"Growth1990":userVariable=p(e.properties.POP1990,e.properties.POP1980);break;case"Whi2010":userVariable=e.properties.WHI2010;break;case"Whi2000":userVariable=e.properties.WHI2000;break;case"Bla2010":userVariable=e.properties.BLA2010;break;case"Bla2000":userVariable=e.properties.BLA2000;break;case"Nat2010":userVariable=e.properties.NAT2010;break;case"Nat2000":userVariable=e.properties.NAT2000;break;case"Asi2010":userVariable=e.properties.ASI2010;break;case"Asi2000":userVariable=e.properties.ASI2000;break;case"Haw2010":userVariable=e.properties.HAW2010;break;case"Haw2000":userVariable=e.properties.HAW2000;break;case"Mul2010":userVariable=e.properties.MUL2010;break;case"Mul2000":userVariable=e.properties.MUL2000;break;case"Lat2010":userVariable=e.properties.LAT2010;break;case"Lat2000":userVariable=e.properties.LAT2000;break;case"WhiPer2010":userVariable=n(e.properties.POP2010,e.properties.WHI2010);break;case"WhiPer2000":userVariable=n(e.properties.POP2000,e.properties.WHI2000);break;case"BlaPer2010":userVariable=n(e.properties.POP2010,e.properties.BLA2010);break;case"BlaPer2000":userVariable=n(e.properties.POP2000,e.properties.BLA2000);break;case"NatPer2010":userVariable=n(e.properties.POP2010,e.properties.NAT2010);break;case"NatPer2000":userVariable=n(e.properties.POP2000,e.properties.NAT2000);break;case"AsiPer2010":userVariable=n(e.properties.POP2010,e.properties.ASI2010);break;case"AsiPer2000":userVariable=n(e.properties.POP2000,e.properties.ASI2000);break;case"HawPer2010":userVariable=n(e.properties.POP2010,e.properties.HAW2010);break;case"HawPer2000":userVariable=n(e.properties.POP2000,e.properties.HAW2000);break;case"MulPer2010":userVariable=n(e.properties.POP2010,e.properties.MUL2010);break;case"MulPer2000":userVariable=n(e.properties.POP2000,e.properties.MUL2000);break;case"LatPer2010":userVariable=n(e.properties.POP2010,e.properties.LAT2010);break;case"LatPer2000":userVariable=n(e.properties.POP2000,e.properties.LAT2000);break;case"DemDiff16":userVariable=t(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016);break;case"RepDiff16":userVariable=r(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016);break;case"DemDiff12":userVariable=t(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"RepDiff12":userVariable=r(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"DemDiff08":userVariable=t(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"RepDiff08":userVariable=r(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"DemPer16":userVariable=a(e.properties.OTH2016,e.properties.REP2016,e.properties.DEM2016);break;case"RepPer16":userVariable=a(e.properties.OTH2016,e.properties.DEM2016,e.properties.REP2016);break;case"OthPer16":userVariable=a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016);break;case"DemPer12":userVariable=a(e.properties.OTH2012,e.properties.REP2012,e.properties.DEM2012);break;case"RepPer12":userVariable=a(e.properties.OTH2012,e.properties.DEM2012,e.properties.REP2012);break;case"OthPer12":userVariable=a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"DemPer08":userVariable=a(e.properties.OTH2008,e.properties.REP2008,e.properties.DEM2008);break;case"RepPer08":userVariable=a(e.properties.OTH2008,e.properties.DEM2008,e.properties.REP2008);break;case"OthPer08":userVariable=a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"electionDiffDem16":userVariable=o(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"electionDiffRep16":userVariable=i(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"electionDiffDem12":userVariable=o(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"electionDiffRep12":userVariable=i(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2012,e.properties.REP2008,e.properties.OTH2008)}switch($("#userVariable2").val()){case"Pop2010":userVariable2=e.properties.POP2010;break;case"Pop2000":userVariable2=e.properties.POP2000;break;case"Pop1990":userVariable2=e.properties.POP1990;break;case"Pop1980":userVariable2=e.properties.POP1980;break;case"Growth2010":userVariable2=p(e.properties.POP2010,e.properties.POP2000);break;case"Growth2000":userVariable2=p(e.properties.POP2000,e.properties.POP1990);break;case"Growth1990":userVariable2=p(e.properties.POP1990,e.properties.POP1980);break;case"Whi2010":userVariable2=e.properties.WHI2010;break;case"Whi2000":userVariable2=e.properties.WHI2000;break;case"Bla2010":userVariable2=e.properties.BLA2010;break;case"Bla2000":userVariable2=e.properties.BLA2000;break;case"Nat2010":userVariable2=e.properties.NAT2010;break;case"Nat2000":userVariable2=e.properties.NAT2000;break;case"Asi2010":userVariable2=e.properties.ASI2010;break;case"Asi2000":userVariable2=e.properties.ASI2000;break;case"Haw2010":userVariable2=e.properties.HAW2010;break;case"Haw2000":userVariable2=e.properties.HAW2000;break;case"Mul2010":userVariable2=e.properties.MUL2010;break;case"Mul2000":userVariable2=e.properties.MUL2000;break;case"Lat2010":userVariable2=e.properties.LAT2010;break;case"Lat2000":userVariable2=e.properties.LAT2000;break;case"WhiPer2010":userVariable2=n(e.properties.POP2010,e.properties.WHI2010);break;case"WhiPer2000":userVariable2=n(e.properties.POP2000,e.properties.WHI2000);break;case"BlaPer2010":userVariable2=n(e.properties.POP2010,e.properties.BLA2010);break;case"BlaPer2000":userVariable2=n(e.properties.POP2000,e.properties.BLA2000);break;case"NatPer2010":userVariable2=n(e.properties.POP2010,e.properties.NAT2010);break;case"NatPer2000":userVariable2=n(e.properties.POP2000,e.properties.NAT2000);break;case"AsiPer2010":userVariable2=n(e.properties.POP2010,e.properties.ASI2010);break;case"AsiPer2000":userVariable2=n(e.properties.POP2000,e.properties.ASI2000);break;case"HawPer2010":userVariable2=n(e.properties.POP2010,e.properties.HAW2010);break;case"HawPer2000":userVariable2=n(e.properties.POP2000,e.properties.HAW2000);break;case"MulPer2010":userVariable2=n(e.properties.POP2010,e.properties.MUL2010);break;case"MulPer2000":userVariable2=n(e.properties.POP2000,e.properties.MUL2000);break;case"LatPer2010":userVariable2=n(e.properties.POP2010,e.properties.LAT2010);break;case"LatPer2000":userVariable2=n(e.properties.POP2000,e.properties.LAT2000);break;case"DemDiff16":userVariable2=t(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016);break;case"RepDiff16":userVariable2=r(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016);break;case"DemDiff12":userVariable2=t(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"RepDiff12":userVariable2=r(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"DemDiff08":userVariable2=t(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"RepDiff08":userVariable2=r(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"DemPer16":userVariable2=a(e.properties.OTH2016,e.properties.REP2016,e.properties.DEM2016);break;case"RepPer16":userVariable2=a(e.properties.OTH2016,e.properties.DEM2016,e.properties.REP2016);break;case"OthPer16":userVariable2=a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016);break;case"DemPer12":userVariable2=a(e.properties.OTH2012,e.properties.REP2012,e.properties.DEM2012);break;case"RepPer12":userVariable2=a(e.properties.OTH2012,e.properties.DEM2012,e.properties.REP2012);break;case"OthPer12":userVariable2=a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"DemPer08":userVariable2=a(e.properties.OTH2008,e.properties.REP2008,e.properties.DEM2008);break;case"RepPer08":userVariable2=a(e.properties.OTH2008,e.properties.DEM2008,e.properties.REP2008);break;case"OthPer08":userVariable2=a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"electionDiffDem16":userVariable2=o(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"electionDiffRep16":userVariable2=i(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012);break;case"electionDiffDem12":userVariable2=o(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008);break;case"electionDiffRep12":userVariable2=i(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2012,e.properties.REP2008,e.properties.OTH2008)}return"userMap"==currentMap?$("#radioyes").is(":checked")?GetUserColor2(userVariable,userVariable2,$("#userNumber1").val(),$("#userNumber2").val()):GetUserColor(userVariable,$("#userNumber1").val()):void 0}return{fillColor:s(),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function GetUserColor(e,t){var r=$("#userOperand1").val(),o=$("#userNumber1").val();return"greater"==r?(comparisonText=">"+o,e>t?userColor1:userColor2):"less"==r?(comparisonText="<"+o,t>e?userColor1:userColor2):void 0}function GetUserColor2(e,t,r,o){var i=$("#userOperand1").val(),a=$("#userOperand2").val(),p=$("#userNumber1").val(),n=$("#userNumber2").val();if("greater"==i&&"greater"==a){if($("#radioAnd").is(":checked"))return comparisonText=">"+p+"(var1) & >"+n+"(var2)",e>r&&t>o?userColor1:userColor2;if($("#radioOr").is(":checked"))return comparisonText=">"+p+"(var1) or >"+n+"(var2)",e>r||t>o?userColor1:userColor2}if("less"==i&&"less"==a){if($("#radioAnd").is(":checked"))return comparisonText="<"+p+"(var1) & <"+n+"(var2)",r>e&&o>t?userColor1:userColor2;if($("#radioOr").is(":checked"))return comparisonText="<"+p+"(var1) or <"+n+"(var2)",r>e||o>t?userColor1:userColor2}if("greater"==i&&"less"==a){if($("#radioAnd").is(":checked"))return comparisonText=">"+p+"(var1) & <"+n+"(var2)",e>r&&o>t?userColor1:userColor2;if($("#radioOr").is(":checked"))return comparisonText=">"+p+"(var1) or <"+n+"(var2)",e>r||o>t?userColor1:userColor2}if("less"==i&&"greater"==a){if($("#radioAnd").is(":checked"))return comparisonText="<"+p+"(var1) & >"+n+"(var2)",r>e&&t>o?userColor1:userColor2;if($("#radioOr").is(":checked"))return comparisonText="<"+p+"(var1) or >"+n+"(var2)",r>e||t>o?userColor1:userColor2}}function GetColor(e,t,r,o,i,a,p,n,s){return e>t?"#104896":e>r?"#2d67b7":e>o?"#4880ce":e>i?"#87b9ff":e>a?"#f7d4d4":e>p?"#ff9696":e>n?"#ff6d6d":e>s?"#ff2b2b":"#01347c"}function GetColor2(e,t,r,o,i,a,p,n,s){return e>t?"#b30000":e>r?"#e60000":e>o?"#ff1a1a":e>i?"#ff4d4d":e>a?"#ff8080":e>p?"#ffb3b3":e>n?"#ffe6e6":e>s?"#9999ff":"#00008B"}function statesStyle(e){return{weight:3,opacity:1,color:"black",dashArray:"3",fillOpacity:.7}}function highlightFeature(e){if(0==selectMode){var t=e.target;t.setStyle({weight:4,color:highlightColor,dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}}function resetHighlight(e){0==selectMode&&counties2010.resetStyle(e.target)}function resetHighlightContext(e){if(1==selectMode){var t=e.target;4==t.options.weight?(selected=!0,counties2010.resetStyle(e.target)):selected=!1}}function zoomToFeature(e){0==selectMode&&(clearStuff(),map.fitBounds(e.target.getBounds()));var t=e.target;selected=4==t.options.weight?!0:!1,t.setStyle({weight:4,color:selectionColor,dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}function insertElectionChart(e,t){var r=document.getElementById(e);new Chart(r,{type:"pie",data:{labels:["Democrat","Republican","Other"],datasets:[{data:election_data,borderWidth:1,backgroundColor:["blue","red","yellow"]}]},options:{animation:{duration:500,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var r=t.datasets[0].data[e.index],o=t.labels[e.index],i=r.toFixed(2);return o+" "+i+"%"}}},title:{display:!0,text:t}}})}function insertCensusChart(){var e=document.getElementById("chartGrowth");new Chart(e,{type:"line",data:{labels:["1980","1990","2000","2010"],datasets:[{label:"Population Growth",data:census_data,borderWidth:1,backgroundColor:"red",borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:500,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var r=t.datasets[0].data[e.index];t.labels[e.index];return"Pop: "+r.toLocaleString()}}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}function insertDemoChart(e,t){var r=document.getElementById(e);new Chart(r,{type:"bar",data:{labels:demolabels,datasets:[{label:"Race by Percentage of Total",data:demo_data,borderWidth:1,borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:1e3,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var r=t.datasets[0].data[e.index],o=(t.labels[e.index],r.toFixed(2));return o+"%"}}},title:{display:!0,text:t},scales:{xAxes:[{ticks:{autoSkip:!1}}]}}})}function onEachFeature(e,t){function r(){function r(){document.getElementById("democrat").innerHTML=parseFloat(n).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(l).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(demTot).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(repTot).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(othTot).toLocaleString(),document.getElementById("democrat2").innerHTML=parseFloat(c).toFixed(2)+"%",document.getElementById("republican2").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("independent2").innerHTML=parseFloat(u).toFixed(2)+"%",document.getElementById("democratTotal2").innerHTML=parseInt(demTot2).toLocaleString(),document.getElementById("republicanTotal2").innerHTML=parseInt(repTot2).toLocaleString(),document.getElementById("independentTotal2").innerHTML=parseInt(othTot2).toLocaleString(),document.getElementById("democrat3").innerHTML=parseFloat(T).toFixed(2)+"%",document.getElementById("republican3").innerHTML=parseFloat(h).toFixed(2)+"%",document.getElementById("independent3").innerHTML=parseFloat(m).toFixed(2)+"%",document.getElementById("democratTotal3").innerHTML=parseInt(demTot3).toLocaleString(),document.getElementById("republicanTotal3").innerHTML=parseInt(repTot3).toLocaleString(),document.getElementById("independentTotal3").innerHTML=parseInt(othTot3).toLocaleString()}function o(){document.getElementById("chart_container").innerHTML='<br><br><br><br><canvas id="chartE2016" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2012" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2008" height="90px" width="100px"></canvas>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="dropdown" id="mapChooser"></span>',document.getElementById("mapChooser").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartE2016">16 Graph</a></li><li><a href="#chartE2012">12 Graph</a></li><li><a href="#chartE2008">08 Graph</a></li></ul>'}function i(){n=demTot/(demTot+repTot+othTot)*100,s=repTot/(demTot+repTot+othTot)*100,l=othTot/(demTot+repTot+othTot)*100}function a(){c=demTot2/(demTot2+repTot2+othTot2)*100,d=repTot2/(demTot2+repTot2+othTot2)*100,u=othTot2/(demTot2+repTot2+othTot2)*100}function p(){T=demTot3/(demTot3+repTot3+othTot3)*100,h=repTot3/(demTot3+repTot3+othTot3)*100,m=othTot3/(demTot3+repTot3+othTot3)*100}var n,s,l,c,d,u,T,h,m,P=e.properties.DEM2016+e.properties.REP2016+e.properties.OTH2016,b=e.properties.DEM2016/P*100,g=e.properties.REP2016/P*100,E=e.properties.OTH2016/P*100,L=e.properties.DEM2012+e.properties.REP2012+e.properties.OTH2012,M=e.properties.DEM2012/L*100,I=e.properties.REP2012/L*100,H=e.properties.OTH2012/L*100,f=e.properties.DEM2008+e.properties.REP2008+e.properties.OTH2008,O=e.properties.DEM2008/f*100,y=e.properties.REP2008/f*100,A=e.properties.OTH2008/f*100;t.on({mouseover:highlightFeature,mouseout:resetHighlight,click:zoomToFeature,contextmenu:resetHighlightContext}),t.on("click",function(t){document.getElementById("chart_container").innerHTML='<br><br><br><br><canvas id="chartE2016" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2012" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2008" height="90px" width="100px"></canvas><br><br>',election_data=[b,g,E],document.getElementById("sbar-header").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser"></span>',document.getElementById("mapChooser").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartE2016">16 Graph</a></li><li><a href="#chartE2012">12 Graph</a></li><li><a href="#chartE2008">08 Graph</a></li></ul>',insertElectionChart("chartE2016","2016"),election_data=[M,I,H],insertElectionChart("chartE2012","2012"),election_data=[O,y,A],insertElectionChart("chartE2008","2008"),document.getElementById("democrat").innerHTML=parseFloat(b).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(g).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(E).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(e.properties.DEM2016).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(e.properties.REP2016).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(e.properties.OTH2016).toLocaleString(),document.getElementById("democrat2").innerHTML=parseFloat(M).toFixed(2)+"%",document.getElementById("republican2").innerHTML=parseFloat(I).toFixed(2)+"%",document.getElementById("independent2").innerHTML=parseFloat(H).toFixed(2)+"%",document.getElementById("democratTotal2").innerHTML=parseInt(e.properties.DEM2012).toLocaleString(),document.getElementById("republicanTotal2").innerHTML=parseInt(e.properties.REP2012).toLocaleString(),document.getElementById("independentTotal2").innerHTML=parseInt(e.properties.OTH2012).toLocaleString(),document.getElementById("democrat3").innerHTML=parseFloat(O).toFixed(2)+"%",document.getElementById("republican3").innerHTML=parseFloat(y).toFixed(2)+"%",document.getElementById("independent3").innerHTML=parseFloat(A).toFixed(2)+"%",document.getElementById("democratTotal3").innerHTML=parseInt(e.properties.DEM2008).toLocaleString(),document.getElementById("republicanTotal3").innerHTML=parseInt(e.properties.REP2008).toLocaleString(),document.getElementById("independentTotal3").innerHTML=parseInt(e.properties.OTH2008).toLocaleString(),0==selected&&selectMode===!0&&(selectList.push(e.properties.CO+", "+e.properties.ST+"<br>"),selectionTable.row.add([e.properties.CO,e.properties.ST,e.properties.POP2010.toLocaleString(),e.properties.POP2000.toLocaleString(),e.properties.POP1990.toLocaleString(),e.properties.POP1980.toLocaleString(),parseFloat(b).toFixed(2)+"%",parseFloat(g).toFixed(2)+"%",parseFloat(E).toFixed(2)+"%",parseFloat(M).toFixed(2)+"%",parseFloat(I).toFixed(2)+"%",parseFloat(H).toFixed(2)+"%",parseFloat(O).toFixed(2)+"%",parseFloat(y).toFixed(2)+"%",parseFloat(A).toFixed(2)+"%",parseFloat(e.properties.WHI2010/e.properties.POP2010*100).toFixed(2)+"%",parseFloat(e.properties.WHI2000/e.properties.POP2000*100).toFixed(2)+"%",parseFloat(e.properties.BLA2010/e.properties.POP2010*100).toFixed(2)+"%",parseFloat(e.properties.BLA2000/e.properties.POP2000*100).toFixed(2)+"%",parseFloat(e.properties.NAT2010/e.properties.POP2010*100).toFixed(2)+"%",parseFloat(e.properties.NAT2000/e.properties.POP2000*100).toFixed(2)+"%",parseFloat(e.properties.ASI2010/e.properties.POP2010*100).toFixed(2)+"%",parseFloat(e.properties.ASI2000/e.properties.POP2000*100).toFixed(2)+"%",parseFloat(e.properties.HAW2010/e.properties.POP2010*100).toFixed(2)+"%",parseFloat(e.properties.HAW2000/e.properties.POP2000*100).toFixed(2)+"%",parseFloat(e.properties.MUL2010/e.properties.POP2010*100).toFixed(2)+"%",parseFloat(e.properties.MUL2000/e.properties.POP2000*100).toFixed(2)+"%",parseFloat(e.properties.LAT2010/e.properties.POP2010*100).toFixed(2)+"%",parseFloat(e.properties.LAT2000/e.properties.POP2000*100).toFixed(2)+"%"]).draw(!1),"AK"!=e.properties.ST&&(demTot+=parseInt(e.properties.DEM2016),repTot+=parseInt(e.properties.REP2016),othTot+=parseInt(e.properties.OTH2016),demTot2+=parseInt(e.properties.DEM2012),repTot2+=parseInt(e.properties.REP2012),othTot2+=parseInt(e.properties.OTH2012),demTot3+=parseInt(e.properties.DEM2008),repTot3+=parseInt(e.properties.REP2008),othTot3+=parseInt(e.properties.OTH2008)),i(),a(),p()),selectMode===!0&&(o(),election_data=[n,s,l],insertElectionChart("chartE2016","2016"),election_data=[c,d,u],insertElectionChart("chartE2012","2012"),election_data=[T,h,m],insertElectionChart("chartE2008","2008"),r())}),t.on("contextmenu",function(t){if(1==selected){var P=selectList.indexOf(e.properties.CO+", "+e.properties.ST+"<br>");P>-1&&(selectList.splice(P,1),selectionTable.row(P).remove().draw()),"AK"!=e.properties.ST&&(demTot-=parseInt(e.properties.DEM2016),repTot-=parseInt(e.properties.REP2016),othTot-=parseInt(e.properties.OTH2016),demTot2-=parseInt(e.properties.DEM2012),repTot2-=parseInt(e.properties.REP2012),othTot2-=parseInt(e.properties.OTH2012),demTot3-=parseInt(e.properties.DEM2008),repTot3-=parseInt(e.properties.REP2008),othTot3-=parseInt(e.properties.OTH2008)),i(),a(),p()}1==selectMode&&1==selected&&(o(),election_data=[n,s,l],insertElectionChart("chartE2016","2016"),election_data=[c,d,u],insertElectionChart("chartE2012","2012"),election_data=[T,h,m],insertElectionChart("chartE2008","2008"),r())})}function o(){function r(){document.getElementById("totpop1").innerHTML=pop2010Tot.toLocaleString(),document.getElementById("totpop2").innerHTML=pop2000Tot.toLocaleString(),document.getElementById("totpop3").innerHTML=pop1990Tot.toLocaleString(),document.getElementById("totpop4").innerHTML=pop1980Tot.toLocaleString(),document.getElementById("gain1").innerHTML=i.toLocaleString(),document.getElementById("gain2").innerHTML=a.toLocaleString(),document.getElementById("gain3").innerHTML=p.toLocaleString(),document.getElementById("growth1").innerHTML=parseFloat(n).toFixed(2)+"%",document.getElementById("growth2").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("growth3").innerHTML=parseFloat(l).toFixed(2)+"%"}function o(){document.getElementById("chart_container2").innerHTML='<br><br><br><br><br><br><br><br><br><br><canvas id="chartGrowth" height="90px" width="100px"></canvas>'}var i=e.properties.POP2010-e.properties.POP2000,a=e.properties.POP2000-e.properties.POP1990,p=e.properties.POP1990-e.properties.POP1980,n=(e.properties.POP2010-e.properties.POP2000)/e.properties.POP2000*100,s=(e.properties.POP2000-e.properties.POP1990)/e.properties.POP1990*100,l=(e.properties.POP1990-e.properties.POP1980)/e.properties.POP1980*100;t.on("click",function(t){document.getElementById("sbar-table").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser2"></span>',document.getElementById("mapChooser2").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartGrowth">1980-2010 Graph</a></li></ul>',o(),census_data=[e.properties.POP1980,e.properties.POP1990,e.properties.POP2000,e.properties.POP2010],insertCensusChart(),document.getElementById("totpop1").innerHTML=e.properties.POP2010.toLocaleString(),document.getElementById("totpop2").innerHTML=e.properties.POP2000.toLocaleString(),document.getElementById("totpop3").innerHTML=e.properties.POP1990.toLocaleString(),document.getElementById("totpop4").innerHTML=e.properties.POP1980.toLocaleString(),document.getElementById("gain1").innerHTML=i.toLocaleString(),document.getElementById("gain2").innerHTML=a.toLocaleString(),document.getElementById("gain3").innerHTML=p.toLocaleString(),document.getElementById("growth1").innerHTML=parseFloat(n).toFixed(2)+"%",document.getElementById("growth2").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("growth3").innerHTML=parseFloat(l).toFixed(2)+"%",0==selected&&selectMode===!0&&(document.getElementById("sbar-table").innerHTML='Selected Counties<span class="dropdown" id="mapChooser2"></span>',document.getElementById("mapChooser2").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartGrowth">1980-2010 Graph</a></li></ul>',pop1980Tot+=parseInt(e.properties.POP1980),pop1990Tot+=parseInt(e.properties.POP1990),pop2000Tot+=parseInt(e.properties.POP2000),pop2010Tot+=parseInt(e.properties.POP2010),i=pop2010Tot-pop2000Tot,a=pop2000Tot-pop1990Tot,p=pop1990Tot-pop1980Tot,n=(pop2010Tot-pop2000Tot)/pop2000Tot*100,s=(pop2000Tot-pop1990Tot)/pop1990Tot*100,l=(pop1990Tot-pop1980Tot)/pop1980Tot*100),selectMode===!0&&(o(),census_data=[pop1980Tot,pop1990Tot,pop2000Tot,pop2010Tot],insertCensusChart(),r())}),t.on("contextmenu",function(t){1==selected&&(pop1980Tot-=parseInt(e.properties.POP1980),pop1990Tot-=parseInt(e.properties.POP1990),pop2000Tot-=parseInt(e.properties.POP2000),pop2010Tot-=parseInt(e.properties.POP2010),i=pop2010Tot-pop2000Tot,a=pop2000Tot-pop1990Tot,p=pop1990Tot-pop1980Tot,n=(pop2010Tot-pop2000Tot)/pop2000Tot*100,s=(pop2000Tot-pop1990Tot)/pop1990Tot*100,l=(pop1990Tot-pop1980Tot)/pop1980Tot*100),1==selectMode&&1==selected&&(o(),census_data=[pop1980Tot,pop1990Tot,pop2000Tot,pop2010Tot],insertCensusChart("chartE2016","2016"),r())})}function i(){function r(){document.getElementById("whitetot2010").innerHTML=whiteTot.toLocaleString(),document.getElementById("whitetot2000").innerHTML=whiteTot2000.toLocaleString(),document.getElementById("blacktot2010").innerHTML=blackTot.toLocaleString(),document.getElementById("blacktot2000").innerHTML=blackTot2000.toLocaleString(),document.getElementById("nativetot2010").innerHTML=nativeTot.toLocaleString(),document.getElementById("nativetot2000").innerHTML=nativeTot2000.toLocaleString(),document.getElementById("asiantot2010").innerHTML=asianTot.toLocaleString(),document.getElementById("asiantot2000").innerHTML=asianTot2000.toLocaleString(),document.getElementById("pactot2010").innerHTML=pacificTot.toLocaleString(),document.getElementById("pactot2000").innerHTML=pacificTot2000.toLocaleString(),document.getElementById("multitot2010").innerHTML=multiracialTot.toLocaleString(),document.getElementById("multitot2000").innerHTML=multiracialTot2000.toLocaleString(),document.getElementById("histot2010").innerHTML=hispanicTot.toLocaleString(),document.getElementById("histot2000").innerHTML=hispanicTot2000.toLocaleString(),document.getElementById("whiteper2010").innerHTML=parseFloat(a).toFixed(2)+"%",document.getElementById("whiteper2000").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("blackper2010").innerHTML=parseFloat(n).toFixed(2)+"%",document.getElementById("blackper2000").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("nativeper2010").innerHTML=parseFloat(l).toFixed(2)+"%",document.getElementById("nativeper2000").innerHTML=parseFloat(c).toFixed(2)+"%",document.getElementById("asianper2010").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("asianper2000").innerHTML=parseFloat(u).toFixed(2)+"%",
document.getElementById("pacper2010").innerHTML=parseFloat(T).toFixed(2)+"%",document.getElementById("pacper2000").innerHTML=parseFloat(h).toFixed(2)+"%",document.getElementById("multiper2010").innerHTML=parseFloat(m).toFixed(2)+"%",document.getElementById("multiper2000").innerHTML=parseFloat(P).toFixed(2)+"%",document.getElementById("hisper2010").innerHTML=parseFloat(b).toFixed(2)+"%",document.getElementById("hisper2000").innerHTML=parseFloat(g).toFixed(2)+"%"}function o(){document.getElementById("chart_container3").innerHTML='<br><br><br><br><br><br><br><br><br><br><canvas id="chartD2010" height="100px" width="100px"></canvas><br><br><br><canvas id="chartD2000" height="100px" width="100px"></canvas><br>'}function i(){a=whiteTot/pop2010Tot*100,p=whiteTot2000/pop2000Tot*100,n=blackTot/pop2010Tot*100,s=blackTot2000/pop2000Tot*100,l=nativeTot/pop2010Tot*100,c=nativeTot2000/pop2000Tot*100,d=asianTot/pop2010Tot*100,u=asianTot2000/pop2000Tot*100,T=pacificTot/pop2010Tot*100,h=pacificTot2000/pop2000Tot*100,m=multiracialTot/pop2010Tot*100,P=multiracialTot2000/pop2000Tot*100,b=hispanicTot/pop2010Tot*100,g=hispanicTot2000/pop2000Tot*100}var a,p,n,s,l,c,d,u,T,h,m,P,b,g,E=e.properties.WHI2010/e.properties.POP2010*100,L=e.properties.WHI2000/e.properties.POP2000*100,M=e.properties.BLA2010/e.properties.POP2010*100,I=e.properties.BLA2000/e.properties.POP2000*100,H=e.properties.NAT2010/e.properties.POP2010*100,f=e.properties.NAT2000/e.properties.POP2000*100,O=e.properties.ASI2010/e.properties.POP2010*100,y=e.properties.ASI2000/e.properties.POP2000*100,A=e.properties.HAW2010/e.properties.POP2010*100,C=e.properties.HAW2000/e.properties.POP2000*100,k=e.properties.MUL2010/e.properties.POP2010*100,R=e.properties.MUL2000/e.properties.POP2000*100,x=e.properties.LAT2010/e.properties.POP2010*100,S=e.properties.LAT2000/e.properties.POP2000*100;t.on("click",function(t){document.getElementById("demoHeader").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser3"></span>',document.getElementById("mapChooser3").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartD2010">2010 Graph</a></li><li><a href="#chartD2000">2000 Graph</a></li></ul>',o(),demo_data=[E,M,H,O,A,k,x],insertDemoChart("chartD2010","2010"),demo_data=[L,I,f,y,C,R,S],insertDemoChart("chartD2000","2000"),document.getElementById("whitetot2010").innerHTML=e.properties.WHI2010.toLocaleString(),document.getElementById("whitetot2000").innerHTML=e.properties.WHI2000.toLocaleString(),document.getElementById("blacktot2010").innerHTML=e.properties.BLA2010.toLocaleString(),document.getElementById("blacktot2000").innerHTML=e.properties.BLA2000.toLocaleString(),document.getElementById("nativetot2010").innerHTML=e.properties.NAT2010.toLocaleString(),document.getElementById("nativetot2000").innerHTML=e.properties.NAT2000.toLocaleString(),document.getElementById("asiantot2010").innerHTML=e.properties.ASI2010.toLocaleString(),document.getElementById("asiantot2000").innerHTML=e.properties.ASI2000.toLocaleString(),document.getElementById("pactot2010").innerHTML=e.properties.HAW2010.toLocaleString(),document.getElementById("pactot2000").innerHTML=e.properties.HAW2000.toLocaleString(),document.getElementById("multitot2010").innerHTML=e.properties.MUL2010.toLocaleString(),document.getElementById("multitot2000").innerHTML=e.properties.MUL2000.toLocaleString(),document.getElementById("histot2010").innerHTML=e.properties.LAT2010.toLocaleString(),document.getElementById("histot2000").innerHTML=e.properties.LAT2000.toLocaleString(),document.getElementById("whiteper2010").innerHTML=parseFloat(E).toFixed(2)+"%",document.getElementById("whiteper2000").innerHTML=parseFloat(L).toFixed(2)+"%",document.getElementById("blackper2010").innerHTML=parseFloat(M).toFixed(2)+"%",document.getElementById("blackper2000").innerHTML=parseFloat(I).toFixed(2)+"%",document.getElementById("nativeper2010").innerHTML=parseFloat(H).toFixed(2)+"%",document.getElementById("nativeper2000").innerHTML=parseFloat(f).toFixed(2)+"%",document.getElementById("asianper2010").innerHTML=parseFloat(O).toFixed(2)+"%",document.getElementById("asianper2000").innerHTML=parseFloat(y).toFixed(2)+"%",document.getElementById("pacper2010").innerHTML=parseFloat(A).toFixed(2)+"%",document.getElementById("pacper2000").innerHTML=parseFloat(C).toFixed(2)+"%",document.getElementById("multiper2010").innerHTML=parseFloat(k).toFixed(2)+"%",document.getElementById("multiper2000").innerHTML=parseFloat(R).toFixed(2)+"%",document.getElementById("hisper2010").innerHTML=parseFloat(x).toFixed(2)+"%",document.getElementById("hisper2000").innerHTML=parseFloat(S).toFixed(2)+"%",0==selected&&selectMode===!0&&(document.getElementById("demoHeader").innerHTML='Selected Counties<span class="dropdown" id="mapChooser3"></span>',document.getElementById("mapChooser3").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartD2010">2010 Graph</a></li><li><a href="#chartD2000">2000 Graph</a></li></ul>',whiteTot+=parseInt(e.properties.WHI2010),blackTot+=parseInt(e.properties.BLA2010),nativeTot+=parseInt(e.properties.NAT2010),asianTot+=parseInt(e.properties.ASI2010),pacificTot+=parseInt(e.properties.HAW2010),multiracialTot+=parseInt(e.properties.MUL2010),hispanicTot+=parseInt(e.properties.LAT2010),whiteTot2000+=parseInt(e.properties.WHI2000),blackTot2000+=parseInt(e.properties.BLA2000),nativeTot2000+=parseInt(e.properties.NAT2000),asianTot2000+=parseInt(e.properties.ASI2000),pacificTot2000+=parseInt(e.properties.HAW2000),multiracialTot2000+=parseInt(e.properties.MUL2000),hispanicTot2000+=parseInt(e.properties.LAT2000),i()),selectMode===!0&&(o(),demo_data=[a,n,l,d,T,m,b],insertDemoChart("chartD2010","2010"),demo_data=[p,s,c,u,h,P,g],insertDemoChart("chartD2000","2000"),r())}),t.on("contextmenu",function(t){1==selected&&(whiteTot-=parseInt(e.properties.WHI2010),blackTot-=parseInt(e.properties.BLA2010),nativeTot-=parseInt(e.properties.NAT2010),asianTot-=parseInt(e.properties.ASI2010),pacificTot-=parseInt(e.properties.HAW2010),multiracialTot-=parseInt(e.properties.MUL2010),hispanicTot-=parseInt(e.properties.LAT2010),whiteTot2000-=parseInt(e.properties.WHI2000),blackTot2000-=parseInt(e.properties.BLA2000),nativeTot2000-=parseInt(e.properties.NAT2000),asianTot2000-=parseInt(e.properties.ASI2000),pacificTot2000-=parseInt(e.properties.HAW2000),multiracialTot2000-=parseInt(e.properties.MUL2000),hispanicTot2000-=parseInt(e.properties.LAT2000),i()),1==selectMode&&1==selected&&(o(),demo_data=[E,M,H,O,A,k,x],insertDemoChart("chartD2010","2010"),demo_data=[L,I,f,y,C,R,S],insertDemoChart("chartD2000","2000"),r())})}function a(r,o,i){var a=r+o+i,p=r/a*100,n=o/a*100,s=i/a*100;"thirdparty2016"==currentMap||"thirdparty2012"==currentMap||"thirdparty2008"==currentMap?t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>% Third Party:&nbsp;</b>"+s.toFixed(2)+"%",{permanent:!1}):t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Democrat:&nbsp;</b>"+p.toFixed(2)+"%<br> <b>Republican:&nbsp;</b>"+Number(n).toFixed(2)+"%</div>",{permanent:!1})}function p(){t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big>")}function n(r,o,i,a,p,n){var s,l=r+o+i,c=r/l*100,d=o/l*100,u=c-d,T=a+p+n,h=a/T*100,m=p/T*100,P=h-m,b=u-P;s=u>P?"D":"R",t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Change:&nbsp;</b>+"+Math.abs(b).toFixed(2)+"% "+s,{permanent:!1})}function s(r,o){var i=(r-o)/o*100;t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Total Population:&nbsp;</b>"+parseInt(r).toLocaleString()+"<br> <b>Population Growth:&nbsp;</b>"+Number(i).toFixed(2)+"%</div>",{permanent:!1})}function l(r,o){var i=r,a=o/i*100;t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Total "+ethnicGroup+":&nbsp;</b>"+parseInt(o).toLocaleString()+"<br> <b>Percent "+ethnicGroup+":&nbsp;</b>"+Number(a).toFixed(2)+"%</div>",{permanent:!1})}r(),o(),i(),e.properties&&(a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),"election2016"==hashMatch&&a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),"election2012"==hashMatch&&a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),"election2008"==hashMatch&&a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),"thirdparty2016"==hashMatch&&a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),"thirdparty2012"==hashMatch&&a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),"thirdparty2008"==hashMatch&&a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),"diff2016"==hashMatch&&n(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),"diff2012"==hashMatch&&n(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),"census2010"==hashMatch&&s(e.properties.POP2010,e.properties.POP2000),"census2000"==hashMatch&&s(e.properties.POP2000,e.properties.POP1990),"census1990"==hashMatch&&s(e.properties.POP1990,e.properties.POP1980),"demo2010"==hashMatch&&l(e.properties.POP2010,e.properties.WHI2010),"demo2000"==hashMatch&&l(e.properties.POP2000,e.properties.WHI2000),"black2010"==hashMatch&&l(e.properties.POP2010,e.properties.BLA2010),"black2000"==hashMatch&&l(e.properties.POP2000,e.properties.BLA2000),"hispanic2010"==hashMatch&&l(e.properties.POP2010,e.properties.LAT2010),"hispanic2000"==hashMatch&&l(e.properties.POP2000,e.properties.LAT2000),"asian2010"==hashMatch&&l(e.properties.POP2010,e.properties.ASI2010),"asian2000"==hashMatch&&l(e.properties.POP2000,e.properties.ASI2000),"multiracial2010"==hashMatch&&l(e.properties.POP2010,e.properties.MUL2010),"multiracial2000"==hashMatch&&l(e.properties.POP2000,e.properties.MUL2000),"native2010"==hashMatch&&l(e.properties.POP2010,e.properties.NAT2010),"native2000"==hashMatch&&l(e.properties.POP2000,e.properties.NAT2000),"pacific2010"==hashMatch&&l(e.properties.POP2010,e.properties.HAW2010),"pacific2000"==hashMatch&&l(e.properties.POP2000,e.properties.HAW2000),$("#ex21").slider().on("change",function(r){t.closeTooltip();var o=$("#ex21").data("slider").getValue();2016==o&&"president"==ethnicGroup&&a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),2012==o&&"president"==ethnicGroup&&a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),2008==o&&"president"==ethnicGroup&&a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),2016==o&&"thirdparty"==ethnicGroup&&a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),2012==o&&"thirdparty"==ethnicGroup&&a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),2008==o&&"thirdparty"==ethnicGroup&&a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008),2016==o&&"votechange"==ethnicGroup&&n(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012),2012==o&&"votechange"==ethnicGroup&&n(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012,e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008)}),$("#ex22").slider().on("change",function(r){t.closeTooltip();var o=$("#ex22").data("slider").getValue();2010==o&&"White"==ethnicGroup&&l(e.properties.POP2010,e.properties.WHI2010),2010==o&&"Black"==ethnicGroup&&l(e.properties.POP2010,e.properties.BLA2010),2010==o&&"Latino/Hispanic"==ethnicGroup&&l(e.properties.POP2010,e.properties.LAT2010),2010==o&&"Asian"==ethnicGroup&&l(e.properties.POP2010,e.properties.ASI2010),2010==o&&"Multiracial"==ethnicGroup&&l(e.properties.POP2010,e.properties.MUL2010),2010==o&&"N.American/Alaskan"==ethnicGroup&&l(e.properties.POP2010,e.properties.NAT2010),2010==o&&"Hawaiian/Pac.Isl."==ethnicGroup&&l(e.properties.POP2010,e.properties.HAW2010),2e3==o&&"White"==ethnicGroup&&l(e.properties.POP2000,e.properties.WHI2000),2e3==o&&"Black"==ethnicGroup&&l(e.properties.POP2000,e.properties.BLA2000),2e3==o&&"Latino/Hispanic"==ethnicGroup&&l(e.properties.POP2000,e.properties.LAT2000),2e3==o&&"Asian"==ethnicGroup&&l(e.properties.POP2000,e.properties.ASI2000),2e3==o&&"Multiracial"==ethnicGroup&&l(e.properties.POP2000,e.properties.MUL2000),2e3==o&&"N.American/Alaskan"==ethnicGroup&&l(e.properties.POP2000,e.properties.NAT2000),2e3==o&&"Hawaiian/Pac.Isl."==ethnicGroup&&l(e.properties.POP2000,e.properties.HAW2000),2010==o&&"popgrowth"==ethnicGroup&&s(e.properties.POP2010,e.properties.POP2000),2e3==o&&"popgrowth"==ethnicGroup&&s(e.properties.POP2000,e.properties.POP1990),1990==o&&"popgrowth"==ethnicGroup&&s(e.properties.POP1990,e.properties.POP1980)}),$(".layercontrol").click(function(){t.closeTooltip()}),$("#election_16").click(function(){a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016)}),$("#third_16").click(function(){a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016)}),$("#diff_16").click(function(){n(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016,e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012)}),$("#census_10").click(function(){s(e.properties.POP2010,e.properties.POP2000)}),$("#demo_10").click(function(){l(e.properties.POP2010,e.properties.WHI2010)}),$("#black_10").click(function(){l(e.properties.POP2010,e.properties.BLA2010)}),$("#hispanic_10").click(function(){l(e.properties.POP2010,e.properties.LAT2010)}),$("#asian_10").click(function(){l(e.properties.POP2010,e.properties.ASI2010)}),$("#multiracial_10").click(function(){l(e.properties.POP2010,e.properties.MUL2010)}),$("#native_10").click(function(){l(e.properties.POP2010,e.properties.NAT2010)}),$("#pacific_10").click(function(){l(e.properties.POP2010,e.properties.HAW2010)}),$("#customMapSubmit").click(function(){p()}))}function collapse_sidebar(e){document.getElementById(e).addEventListener("click",function(){document.getElementById("sidebar").className="sidebar sidebar-left collapsed"})}function createLegend9(e,t,r,o,i,a,p,n,s){return'<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="colorlegend1"></td><td>'+s+'%+</td></tr><tr><td class="color" id="colorlegend2"></td><td>'+n+'%</td></tr></tr><tr><td class="color" id="colorlegend3"></td><td>'+p+'%</td></tr></tr><tr><td class="color" id="colorlegend4"></td><td>'+a+'%</td></tr></tr><tr><td class="color" id="colorlegend5"></td><td>'+i+'%</td></tr></tr><tr><td class="color" id="colorlegend6"></td><td>'+o+'%</td></tr></tr><tr><td class="color" id="colorlegend7"></td><td>'+r+'%</td></tr></tr><tr><td class="color" id="colorlegend8"></td><td>'+t+'%</td></tr></tr><tr><td class="color" id="colorlegend9"></td><td>'+e+"%</td></tr>"}function createLegend8(e,t,r,o,i,a,p,n){return'<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="electionlegend1"></td><td>'+n+'%+ D</td></tr><tr><td class="color" id="electionlegend2"></td><td>'+p+'% D</td></tr></tr><tr><td class="color" id="electionlegend3"></td><td>'+a+'% D</td></tr></tr><tr><td class="color" id="electionlegend4"></td><td>'+i+'% D</td></tr></tr><tr><td class="color" id="electionlegend5"></td><td>'+o+'% R</td></tr></tr><tr><td class="color" id="electionlegend6"></td><td>'+r+'% R</td></tr></tr><tr><td class="color" id="electionlegend7"></td><td>'+t+'% R</td></tr></tr><tr><td class="color" id="electionlegend8"></td><td>'+e+"% R</td></tr>"}function createUserLegend(){return'<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="userlegend1"></td><td>'+comparisonText+'</td></tr><tr><td class="color" id="userlegend2"></td><td>Everything else</td></tr>'}function layerControls(e,t,r,o){clearStuff(),currentMap=e,ethnicGroup=o,counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML='<center contenteditable="true">'+t+"</center>",map.removeControl(currentLegend),currentLegend=r,r.addTo(map)}function clearStuff(){selectList=[],selectionTable.clear().draw(),demTot=0,repTot=0,othTot=0,demTot2=0,repTot2=0,othTot2=0,demTot3=0,repTot3=0,othTot3=0,pop2010Tot=0,pop2000Tot=0,pop1990Tot=0,pop1980Tot=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,whiteTot2000=0,blackTot2000=0,nativeTot2000=0,asianTot2000=0,pacificTot2000=0,multiracialTot2000=0,hispanicTot2000=0,counties2010.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})}function mobileSlider(){return $(window).width()>500?tooltipPosition="left":$(window).width()<500?tooltipPosition="right":void 0}var new2010,election2012,election2008,census2010,census2000,demo2010,demo2000,states,election_data,census_data,demo_data,labels,map,sidebar,osm,electionLegend,censusLegend,demoLegend,currentLegend,currentMap="election2016",options,demTot=0,repTot=0,othTot=0,demTot2=0,repTot2=0,othTot2=0,demTot3=0,repTot3=0,othTot3=0,pop2010Tot=0,pop2000Tot=0,pop1990Tot=0,pop1980Tot=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,whiteTot2000=0,blackTot2000=0,nativeTot2000=0,asianTot2000=0,pacificTot2000=0,multiracialTot2000=0,hispanicTot2000=0,selectMode=!1,selectList=[],selected=!1,addHash,stringURL=window.location.hash,hashMatch=stringURL.substring(stringURL.lastIndexOf("&")+1),userVariable,userVariable2,comparisonText,ethnicGroup,tooltipPosition,selectionTable;selectionTable=$("#tableTest").DataTable({paging:!1,colReorder:{realtime:!1},dom:"frtipB",language:{search:"",searchPlaceholder:"Search"},buttons:[{extend:"colvis",collectionLayout:"fixed two-column",text:"Columns"},{extend:"columnVisibility",text:"Show all",visibility:!0},{extend:"columnVisibility",text:"Hide all",visibility:!1},{extend:"excelHtml5",text:"Export",exportOptions:{columns:":visible"},className:"excelButton",title:"Vizmapper.com - Selected Counties"}]}),selectionTable.on("mouseenter","td",function(){var e=selectionTable.cell(this).index().column;$(selectionTable.cells().nodes()).removeClass("highlight"),$(selectionTable.column(e).nodes()).addClass("highlight")}),$(".colorChoice").spectrum({color:"black",showPalette:!0,palette:[["black","white","gray"],["brown","blue","green"],["orange","red","yellow"],["purple","turquoise","pink"]]});var highlightColor=$("#highlightColor").spectrum("get").toHexString();$("#highlightColor").on("change.spectrum",function(){highlightColor=$("#highlightColor").spectrum("get").toHexString()});var selectionColor=$("#selectionColor").spectrum("get").toHexString();$("#selectionColor").on("change.spectrum",function(){selectionColor=$("#selectionColor").spectrum("get").toHexString()});var userColor1=$("#customMapColor1").spectrum("get").toHexString();$("#customMapColor1").on("change.spectrum",function(){userColor1=$("#customMapColor1").spectrum("get").toHexString()});var userColor2=$("#customMapColor2").spectrum("get").toHexString();$("#customMapColor2").on("change.spectrum",function(){userColor2=$("#customMapColor2").spectrum("get").toHexString()});var customTitle=$("#customTitle"),customTitleVal=$("#customTitle").val();if($(customTitle).change(function(){customTitleVal=$("#customTitle").val()}),$("#radioyes").click(function(){$("#userVariable2").prop("disabled",!1),$("#userOperand2").prop("disabled",!1),$("#userNumber2").prop("disabled",!1),$("input[name=optradio2]").prop("disabled",!1)}),$("#radiono").click(function(){$("#userVariable2").prop("disabled",!0).val(""),$("#userOperand2").prop("disabled",!0).val(""),$("#userNumber2").prop("disabled",!0).val(""),$("input[name=optradio2]").prop("disabled",!0)}),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()}),$(window).width()>700)var demolabels=["White",["Black or","African American"],["American Indian or","Alaska Native"],"Asian",["Native Hawaiian or","Other Pacific Islander"],["Multiracial"],["Hispanic or","Latino"]];else var demolabels=["White",["Black"],["Nat. Am/Nat. AK."],"Asian",["Nat. HI/Pac-Isl"],["Multiracial"],["Hisp/Lat"]];if(map=L.map("map",{center:[39.1,-94.5],zoom:4.5,zoomControl:!1,preferCanvas:!0}),map.createPane("labels"),map.getPane("labels").style.zIndex=500,map.getPane("labels").style.pointerEvents="none",osm=L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(map),counties2010=new L.GeoJSON.AJAX("geography/2010.geojson",{style:defaultStyle,onEachFeature:onEachFeature}).addTo(map),states=new L.GeoJSON.AJAX("geography/states-min.geojson",{style:statesStyle,pane:"labels"}).addTo(map),sidebar=L.control.sidebar("sidebar").addTo(map),document.getElementById("disable_legend").addEventListener("click",function(){document.getElementById("disable_legend").checked?$(".legend").css("display","none"):$(".legend").css("display","inline")}),L.control.scale().addTo(map),new L.Control.Zoom({position:"topright"}).addTo(map),userLegend=L.control({position:"bottomright"}),userLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return t.innerHTML+=createUserLegend(),t},electionLegend=L.control({position:"bottomright"}),electionLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return"thirdparty2016"==currentMap||"thirdparty2012"==currentMap||"thirdparty2008"==currentMap?(t.innerHTML+=createLegend9("0-1","1-2","2-3","3-4","4-5","5-6","6-7","7-8","8"),t):"diff2016"==currentMap||"diff2012"==currentMap?(t.innerHTML+=createLegend8("20","10-20","5-10","0-5","0-5","5-10","10-20","20"),t):(t.innerHTML+=createLegend8("30","20-30","10-20","0-10","0-10","10-20","20-30","30"),t)},censusLegend=L.control({position:"bottomright"}),censusLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return t.innerHTML+=createLegend9("-5","-5-0","0-5","5-10","10-15","15-20","20-25","25-30","30"),t},demoLegend=L.control({position:"bottomright"}),demoLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return"demo2010"==currentMap||"demo2000"==currentMap?(t.innerHTML+=createLegend9("0-60","60-65","65-70","70-75","75-80","80-85","85-90","90-95","95"),t):"black2010"==currentMap||"black2000"==currentMap?(t.innerHTML+=createLegend9("0-6","6-8","8-10","10-12","12-14","14-16","16-18","18-20","20"),t):"hispanic2010"==currentMap||"hispanic2000"==currentMap?(t.innerHTML+=createLegend9("0-9","9-12","12-15","15-18","18-21","21-24","24-27","27-30","30"),t):"asian2010"==currentMap||"asian2000"==currentMap||"multiracial2010"==currentMap||"multiracial2000"==currentMap?(t.innerHTML+=createLegend9("0-1","1-2","2-3","3-4","4-5","5-6","6-7","7-8","8"),t):"native2010"==currentMap||"native2000"==currentMap?(t.innerHTML+=createLegend9("0-.5",".5-1","1-1.5","1.5-2","2-2.5","2.5-3","3-3.5","3.5-4","4"),t):"pacific2010"==currentMap||"pacific2000"==currentMap?(t.innerHTML+=createLegend9("0-0.2","0.2-0.4","0.4-0.6","0.6-0.8","0.8-1.0","1.0-1.2","1.2-1.4","1.4-1.6","1.6"),t):void 0},electionLegend.addTo(map),currentLegend=electionLegend,counties2010.on("data:loaded",function(){$(".loader").fadeOut("slow")}),$(window).width()<450&&(document.getElementById("sidebar").className="sidebar sidebar-left",document.getElementById("infotab").className="active",document.getElementById("info_chart").className="sidebar-pane ui-draggable-handle active",document.getElementById("userMessage").innerHTML="Scroll down for info charts and map options.",document.getElementById("countySearch").innerHTML="<input type='text' id='county_search' class='form-control' placeholder='Find a county'/>",document.getElementById("searchDiv").innerHTML=""),options={data:coordinates,getValue:"County",list:{maxNumberOfElements:6,match:{enabled:!0},onChooseEvent:function(){var e=$("#county_search").getSelectedItemData().Latitude,t=$("#county_search").getSelectedItemData().Longitude;map.setView([e,t],9)}}},$("#county_search").easyAutocomplete(options),currentMap="election2016",ethnicGroup="president",document.getElementById("mapTitleText").innerHTML='<center contenteditable="true">2016: PRESIDENTIAL ELECTION RESULTS</center>',$("#election_16").click(function(){layerControls("election2016","2016: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),addHash="&"+currentMap}),$("#census_10").click(function(){layerControls("census2010","2010: POPULATION GROWTH SINCE 2000",censusLegend,"popgrowth"),addHash="&"+currentMap}),$("#demo_10").click(function(){layerControls("demo2010","2010: PERCENT WHITE",demoLegend,"White"),addHash="&"+currentMap}),$("#black_10").click(function(){layerControls("black2010","2010: PERCENT BLACK",demoLegend,"Black"),addHash="&"+currentMap}),$("#hispanic_10").click(function(){layerControls("hispanic2010","2010: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic"),addHash="&"+currentMap}),$("#asian_10").click(function(){layerControls("asian2010","2010: PERCENT ASIAN",demoLegend,"Asian"),addHash="&"+currentMap}),$("#multiracial_10").click(function(){layerControls("multiracial2010","2010: PERCENT MULTIRACIAL",demoLegend,"Multiracial"),addHash="&"+currentMap}),$("#native_10").click(function(){layerControls("native2010","2010: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan"),addHash="&"+currentMap}),$("#pacific_10").click(function(){layerControls("pacific2010","2010: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl."),addHash="&"+currentMap}),$("#third_16").click(function(){layerControls("thirdparty2016","2016: PERCENT THIRD PARTY",electionLegend,"thirdparty"),addHash="&"+currentMap}),$("#diff_16").click(function(){layerControls("diff2016","2016: VOTE SWING FROM 2012",electionLegend,"votechange"),addHash="&"+currentMap}),$("#customMapSubmit").click(function(){layerControls("userMap",customTitleVal,userLegend,""),$("#userlegend1").css("background-color",userColor1),$("#userlegend2").css("background-color",userColor2),$("#ex21").slider("disable"),$("#ex22").slider("disable"),$(".tooltip-inner,.slider-tick-label,.tooltip-arrow").css("display","none"),$("#linkShare").prop("disabled",!0)}),$(".state_outlines").click(function(){map.hasLayer(states)===!1?map.addLayer(states):map.removeLayer(states)}),$(".base_map").click(function(){map.hasLayer(osm)===!1?map.addLayer(osm):map.removeLayer(osm)}),$(".selectMode").click(function(){selectMode===!1?selectMode=!0:(selectMode=!1,selectList=[],selectionTable.clear().draw(),counties2010.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}))}),$(".layercontrol").click(function(){$(".tooltip-inner,.slider-tick-label,.tooltip-arrow").css("display","inline"),$("#linkShare").prop("disabled",!1),clearStuff()}),$(".clearSelection").click(function(){clearStuff()}),$(document).ready(function(){$(".dropdown-submenu a.test").on("click",function(e){$(this).next("ul").toggle(),e.stopPropagation(),e.preventDefault()})}),$(window).width()>500)var timeslider=L.control({position:"topright"}),timeslider2=L.control({position:"topright"});else var timeslider=L.control({position:"topleft"}),timeslider2=L.control({position:"topleft"});timeslider.onAdd=function(e){return timeslideDiv=L.DomUtil.create("div","slider2"),timeslideDiv.innerHTML='<input id="ex21" type="text" data-provide="slider" data-slider-ticks="[2008,2012,2016]" data-slider-ticks-labels=\'["2008", "2012", "2016"]\' data-slider-min="2008" data-slider-max="2016" data-slider-step="4" data-slider-value="2016" data-slider-tooltip="always" data-slider-orientation="vertical" />',L.DomEvent.disableClickPropagation(timeslideDiv),timeslideDiv},map.addControl(timeslider),timeslider2.onAdd=function(e){return timeslideDiv2=L.DomUtil.create("div","slider3"),timeslideDiv2.innerHTML='<input id="ex22" type="text" data-provide="slider" data-slider-ticks="[1990,2000,2010]" data-slider-ticks-labels=\'["1990", "2000", "2010"]\' data-slider-min="1990" data-slider-max="2010" data-slider-step="10" data-slider-value="2010" data-slider-tooltip="always"data-slider-orientation="vertical" />',L.DomEvent.disableClickPropagation(timeslideDiv2),timeslideDiv2},map.addControl(timeslider2),mobileSlider(),$("#ex21").slider({tooltip_position:tooltipPosition,ticks_labels:["","",""],value:2016,reversed:!0}),$("#ex22").slider({tooltip_position:tooltipPosition,ticks_labels:["","",""],value:2010,reversed:!0}),$("#diff_16").click(function(){$("#ex21").slider({tooltip_position:tooltipPosition,ticks:[2012,2016],ticks_labels:["","",""],value:2016,reversed:!0})}),$("#election_16, #third_16").click(function(){$("#ex21").slider({tooltip_position:tooltipPosition,ticks:[2008,2012,2016],ticks_labels:["","",""],value:2016,reversed:!0})}),$("#census_10").click(function(){$("#ex22").slider({tooltip_position:tooltipPosition,ticks:[1990,2e3,2010],ticks_labels:["","",""],value:2010,reversed:!0})}),$("#demo_10, #black_10, #hispanic_10, #asian_10, #multiracial_10, #native_10, #pacific_10").click(function(){$("#ex22").slider({tooltip_position:tooltipPosition,ticks:[2e3,2010],ticks_labels:["","",""],value:2010,reversed:!0})}),$("#ex21").slider().on("change",function(e){selectList=[],selectionTable.clear().draw();var t=$("#ex21").data("slider").getValue();2016==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2016","2016: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2016","2016: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2016","2016: VOTE SWING FROM 2012",electionLegend,"votechange")),2012==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2012","2012: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2012","2012: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2012","2012: VOTE SWING FROM 2008",electionLegend,"votechange")),2008==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2008","2008: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2008","2008: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"))}),$(".layercontrol").on("click",function(){currentLegend==electionLegend?($(".slider3").css("display","none"),$(".slider2").css("display","inline"),$("#ex21").slider("refresh")):($(".slider2").css("display","none"),$(".slider3").css("display","inline"),$("#ex22").slider("refresh")),$("#ex21").slider().on("change",function(e){selectList=[],selectionTable.clear().draw();var t=$("#ex21").data("slider").getValue();2016==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2016","2016: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2016","2016: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2016","2016: VOTE SWING FROM 2012",electionLegend,"votechange")),2012==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2012","2012: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2012","2012: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),"votechange"==ethnicGroup&&layerControls("diff2012","2012: VOTE SWING FROM 2008",electionLegend,"votechange")),2008==t&&("thirdparty"==ethnicGroup&&layerControls("thirdparty2008","2008: PERCENT THIRD PARTY",electionLegend,"thirdparty"),"president"==ethnicGroup&&layerControls("election2008","2008: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"));
}),$("#ex22").slider().on("change",function(e){selectList=[],selectionTable.clear().draw();var t=$("#ex22").data("slider").getValue();2010==t&&("popgrowth"==ethnicGroup&&layerControls("census2010","2010: POPULATION GROWTH SINCE 2000",censusLegend,"popgrowth"),"White"==ethnicGroup&&layerControls("demo2010","2010: PERCENT WHITE",demoLegend,"White"),"Black"==ethnicGroup&&layerControls("black2010","2010: PERCENT BLACK",demoLegend,"Black"),"Latino/Hispanic"==ethnicGroup&&layerControls("hispanic2010","2010: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic"),"Asian"==ethnicGroup&&layerControls("asian2010","2010: PERCENT ASIAN",demoLegend,"Asian"),"Multiracial"==ethnicGroup&&layerControls("multiracial2010","2010: PERCENT MULTIRACIAL",demoLegend,"Multiracial"),"N.American/Alaskan"==ethnicGroup&&layerControls("native2010","2010: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan"),"Hawaiian/Pac.Isl."==ethnicGroup&&layerControls("pacific2010","2010: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl.")),2e3==t&&("popgrowth"==ethnicGroup&&layerControls("census2000","2000: POPULATION GROWTH SINCE 1990",censusLegend,"popgrowth"),"White"==ethnicGroup&&layerControls("demo2000","2000: PERCENT WHITE",demoLegend,"White"),"Black"==ethnicGroup&&layerControls("black2000","2000: PERCENT BLACK",demoLegend,"Black"),"Latino/Hispanic"==ethnicGroup&&layerControls("hispanic2000","2000: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic"),"Asian"==ethnicGroup&&layerControls("asian2000","2000: PERCENT ASIAN",demoLegend,"Asian"),"Multiracial"==ethnicGroup&&layerControls("multiracial2000","2000: PERCENT MULTIRACIAL",demoLegend,"Multiracial"),"N.American/Alaskan"==ethnicGroup&&layerControls("native2000","2000: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan"),"Hawaiian/Pac.Isl."==ethnicGroup&&layerControls("pacific2000","2000: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl.")),1990==t&&"popgrowth"==ethnicGroup&&layerControls("census1990","1990: POPULATION GROWTH SINCE 1980",censusLegend,"popgrowth")})}),"census2010"==hashMatch&&$(function(){$("#census_10").click(),$("#ex22").slider("setValue",2010),layerControls("census2010","2010: POPULATION GROWTH SINCE 2000",censusLegend,"popgrowth"),addHash="&"+currentMap}),"census2000"==hashMatch&&$(function(){$("#census_10").click(),$("#ex22").slider("setValue",2e3),layerControls("census1990","2000: POPULATION GROWTH SINCE 1990",censusLegend,"popgrowth"),addHash="&"+currentMap}),"census1990"==hashMatch&&$(function(){$("#census_10").click(),$("#ex22").slider("setValue",1990),layerControls("census1990","1990: POPULATION GROWTH SINCE 1980",censusLegend,"popgrowth"),addHash="&"+currentMap}),"election2016"==hashMatch&&$(function(){$("#election_16").click(),$("#ex22,#ex21").slider("setValue",2016),layerControls("election2016","2016: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),addHash="&"+currentMap}),"election2012"==hashMatch&&$(function(){$("#election_16").click(),$("#ex22,#ex21").slider("setValue",2012),layerControls("election2012","2012: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),addHash="&"+currentMap}),"election2008"==hashMatch&&$(function(){$("#election_06").click(),$("#ex22,#ex21").slider("setValue",2008),layerControls("election2008","2008: PRESIDENTIAL ELECTION RESULTS",electionLegend,"president"),addHash="&"+currentMap}),"thirdparty2016"==hashMatch&&$(function(){$("#third_16").click(),$("#ex22").slider("setValue",2016),layerControls("thirdparty2016","2016: PERCENT THIRD PARTY",electionLegend,"thirdparty"),addHash="&"+currentMap}),"thirdparty2012"==hashMatch&&$(function(){$("#third_16").click(),$("#ex22,#ex21").slider("setValue",2012),layerControls("thirdparty2012","2012: PERCENT THIRD PARTY",electionLegend,"thirdparty"),addHash="&"+currentMap}),"thirdparty2008"==hashMatch&&$(function(){$("#third_16").click(),$("#ex22,#ex21").slider("setValue",2008),layerControls("thirdparty2008","2008: PERCENT THIRD PARTY",electionLegend,"thirdparty"),addHash="&"+currentMap}),"diff2016"==hashMatch&&$(function(){$("#diff_16").click(),$("#ex22,#ex21").slider("setValue",2016),layerControls("diff2016","2016: VOTE SWING FROM 2012",electionLegend,"votechange"),addHash="&"+currentMap}),"diff2012"==hashMatch&&$(function(){$("#diff_16").click(),$("#ex22,#ex21").slider("setValue",2012),layerControls("diff2012","2012: VOTE SWING FROM 2008",electionLegend,"votechange"),addHash="&"+currentMap}),"demo2010"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2010),layerControls("demo2010","2010: PERCENT WHITE",demoLegend,"White"),addHash="&"+currentMap}),"demo2000"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2e3),layerControls("demo2000","2000: PERCENT WHITE",demoLegend,"White"),addHash="&"+currentMap}),"black2010"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2010),layerControls("black2010","2010: PERCENT BLACK",demoLegend,"Black"),addHash="&"+currentMap}),"black2000"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2e3),layerControls("black2000","2000: PERCENT BLACK",demoLegend,"Black"),addHash="&"+currentMap}),"hispanic2010"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2010),layerControls("hispanic2010","2010: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic"),addHash="&"+currentMap}),"hispanic2000"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2e3),layerControls("hispanic2000","2000: PERCENT LATINO/HISPANIC",demoLegend,"Latino/Hispanic"),addHash="&"+currentMap}),"asian2010"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2010),layerControls("asian2010","2010: PERCENT ASIAN",demoLegend,"Asian"),addHash="&"+currentMap}),"asian2000"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2e3),layerControls("asian2000","2000: PERCENT ASIAN",demoLegend,"Asian"),addHash="&"+currentMap}),"multiracial2010"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2010),layerControls("multiracial2010","2010: PERCENT MULTIRACIAL",demoLegend,"Multiracial"),addHash="&"+currentMap}),"multiracial2000"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2e3),layerControls("multiracial2000","2000: PERCENT MULTIRACIAL",demoLegend,"Multiracial"),addHash="&"+currentMap}),"native2010"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2010),layerControls("native2010","2010: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan"),addHash="&"+currentMap}),"native2000"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2e3),layerControls("native2000","2000: PERCENT NATIVE AMERICAN/ALASKAN",demoLegend,"N.American/Alaskan"),addHash="&"+currentMap}),"pacific2010"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2010),layerControls("pacific2010","2010: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl."),addHash="&"+currentMap}),"pacific2000"==hashMatch&&$(function(){$("#demo_10").click(),$("#ex22").slider("setValue",2e3),layerControls("pacific2000","2000: PERCENT NATIVE HAWAIIAN/PACIFIC ISLANDER",demoLegend,"Hawaiian/Pac.Isl."),addHash="&"+currentMap}),new Clipboard("#copyLink"),$("#linkShare").click(function(){var e=String(window.location);hashMatch=e.substring(e.lastIndexOf("&")+1);var t=e.replace(hashMatch,currentMap);$("#shareLinkURL").html(t);var r=t.replace("#","%23"),o=r.replace("&","%26");$("#twitter").attr("href","https://twitter.com/share?url="+o+"&amp;text=VizMapper&amp;hashtags=interactivemaps"),$("#tumblr").attr("href","http://www.tumblr.com/share/link?url="+o+"&amp;title=VizMapper&amp;"),$("#fb").attr("href","http://www.facebook.com/sharer.php?u="+o),$("#linkedin").attr("href","http://www.linkedin.com/shareArticle?mini=true&amp;url="+o),$("#reddit").attr("href","http://reddit.com/submit?url="+o+"&amp;title=VizMapper&amp;")}),addHash="&"+currentMap,hash=new L.Hash(map),stringURL=window.location.hash,hashMatch=stringURL.substring(stringURL.lastIndexOf("&")+1);