function defaultStyle(e){function t(e,t,o){var n=e+t+o,r=e/n*100,a=t/n*100;return r-a}function o(e,t){return(e-t)/t*100}function n(e,t){var o=e,n=t/o*100;return n}function r(){return"election2016"==currentMap?GetColor(t(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016)):"election2012"==currentMap?GetColor(t(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012)):"election2008"==currentMap?GetColor(t(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008)):"census2010"==currentMap?GetColor2(o(e.properties.POP2010,e.properties.POP2000)):"census2000"==currentMap?GetColor2(o(e.properties.POP2000,e.properties.POP1990)):"demo2010"==currentMap?GetColor3(n(e.properties.POP2010,e.properties.WHI2010)):"demo2000"==currentMap?GetColor3(n(e.properties.POP2000,e.properties.WHI2000)):void 0}return{fillColor:r(),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function GetColor(e){return e>30?"#104896":e>20?"#2d67b7":e>10?"#4880ce":e>0?"#87b9ff":e>-10?"#f7d4d4":e>-20?"#ff9696":e>-30?"#ff6d6d":e>-100?"#ff2b2b":"#01347c"}function GetColor2(e){return e>30?"#b30000":e>25?"#e60000":e>20?"#ff1a1a":e>15?"#ff4d4d":e>10?"#ff8080":e>5?"#ffb3b3":e>0?"#ffe6e6":e>-5?"#9999ff":"#00008B"}function GetColor3(e){return e>95?"#b30000":e>90?"#e60000":e>85?"#ff1a1a":e>80?"#ff4d4d":e>75?"#ff8080":e>70?"#ffb3b3":e>65?"#ffe6e6":e>60?"#9999ff":"#00008B"}function statesStyle(e){return{weight:3,opacity:1,color:"black",dashArray:"3",fillOpacity:.7}}function highlightFeature(e){if(0==selectMode){var t=e.target;t.setStyle({weight:4,color:"black",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}}function resetHighlight(e){0==selectMode&&counties2010.resetStyle(e.target)}function resetHighlightContext(e){if(1==selectMode){var t=e.target;4==t.options.weight?(selected=!0,counties2010.resetStyle(e.target)):selected=!1}}function zoomToFeature(e){0==selectMode&&map.fitBounds(e.target.getBounds());var t=e.target;selected=4==t.options.weight?!0:!1,t.setStyle({weight:4,color:"black",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}function insertElectionChart(e,t){var o=document.getElementById(e);new Chart(o,{type:"pie",data:{labels:["Democrat","Republican","Other"],datasets:[{data:election_data,borderWidth:1,backgroundColor:["blue","red","yellow"]}]},options:{animation:{duration:500,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var o=t.datasets[0].data[e.index],n=t.labels[e.index],r=o.toFixed(2);return n+" "+r+"%"}}},title:{display:!0,text:t}}})}function insertCensusChart(){var e=document.getElementById("chartGrowth");new Chart(e,{type:"line",data:{labels:["1980","1990","2000","2010"],datasets:[{label:"Population Growth",data:census_data,borderWidth:1,backgroundColor:"red",borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:500,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var o=t.datasets[0].data[e.index];t.labels[e.index];return"Pop: "+o.toLocaleString()}}}}})}function insertDemoChart(e,t){var o=document.getElementById(e);new Chart(o,{type:"bar",data:{labels:demolabels,datasets:[{label:"Race by Percentage of Total",data:demo_data,borderWidth:1,borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:1e3,easing:"easeInExpo"},maintainAspectRatio:!0,tooltips:{callbacks:{label:function(e,t){var o=t.datasets[0].data[e.index],n=(t.labels[e.index],o.toFixed(2));return n+"%"}}},title:{display:!0,text:t}}})}function onEachFeature(e,t){function o(){function o(){document.getElementById("democrat").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(c).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(demTot).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(repTot).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(othTot).toLocaleString(),document.getElementById("democrat2").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("republican2").innerHTML=parseFloat(l).toFixed(2)+"%",document.getElementById("independent2").innerHTML=parseFloat(m).toFixed(2)+"%",document.getElementById("democratTotal2").innerHTML=parseInt(demTot2).toLocaleString(),document.getElementById("republicanTotal2").innerHTML=parseInt(repTot2).toLocaleString(),document.getElementById("independentTotal2").innerHTML=parseInt(othTot2).toLocaleString(),document.getElementById("democrat3").innerHTML=parseFloat(T).toFixed(2)+"%",document.getElementById("republican3").innerHTML=parseFloat(u).toFixed(2)+"%",document.getElementById("independent3").innerHTML=parseFloat(g).toFixed(2)+"%",document.getElementById("democratTotal3").innerHTML=parseInt(demTot3).toLocaleString(),document.getElementById("republicanTotal3").innerHTML=parseInt(repTot3).toLocaleString(),document.getElementById("independentTotal3").innerHTML=parseInt(othTot3).toLocaleString()}function n(){document.getElementById("chart_container").innerHTML='<br><br><br><br><canvas id="chartE2016" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2012" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2008" height="90px" width="100px"></canvas>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="dropdown" id="mapChooser"></span>',document.getElementById("mapChooser").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartE2016">16 Graph</a></li><li><a href="#chartE2012">12 Graph</a></li><li><a href="#chartE2008">08 Graph</a></li></ul>'}function r(){p=demTot/(demTot+repTot+othTot)*100,d=repTot/(demTot+repTot+othTot)*100,c=othTot/(demTot+repTot+othTot)*100}function a(){s=demTot2/(demTot2+repTot2+othTot2)*100,l=repTot2/(demTot2+repTot2+othTot2)*100,m=othTot2/(demTot2+repTot2+othTot2)*100}function i(){T=demTot3/(demTot3+repTot3+othTot3)*100,u=repTot3/(demTot3+repTot3+othTot3)*100,g=othTot3/(demTot3+repTot3+othTot3)*100}var p,d,c,s,l,m,T,u,g,h=e.properties.DEM2016+e.properties.REP2016+e.properties.OTH2016,L=e.properties.DEM2016/h*100,E=e.properties.REP2016/h*100,I=e.properties.OTH2016/h*100,b=e.properties.DEM2012+e.properties.REP2012+e.properties.OTH2012,y=e.properties.DEM2012/b*100,M=e.properties.REP2012/b*100,H=e.properties.OTH2012/b*100,f=e.properties.DEM2008+e.properties.REP2008+e.properties.OTH2008,B=e.properties.DEM2008/f*100,P=e.properties.REP2008/f*100,S=e.properties.OTH2008/f*100;t.on({mouseover:highlightFeature,mouseout:resetHighlight,click:zoomToFeature,contextmenu:resetHighlightContext}),t.on("click",function(t){document.getElementById("chart_container").innerHTML='<br><br><br><br><canvas id="chartE2016" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2012" height="90px" width="100px"></canvas><br><br><br><canvas id="chartE2008" height="90px" width="100px"></canvas><br><br>',election_data=[L,E,I],document.getElementById("sbar-header").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser"></span>',document.getElementById("mapChooser").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartE2016">16 Graph</a></li><li><a href="#chartE2012">12 Graph</a></li><li><a href="#chartE2008">08 Graph</a></li></ul>',insertElectionChart("chartE2016","2016"),election_data=[y,M,H],insertElectionChart("chartE2012","2012"),election_data=[B,P,S],insertElectionChart("chartE2008","2008"),document.getElementById("democrat").innerHTML=parseFloat(L).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(E).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(I).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(e.properties.DEM2016).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(e.properties.REP2016).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(e.properties.OTH2016).toLocaleString(),document.getElementById("democrat2").innerHTML=parseFloat(y).toFixed(2)+"%",document.getElementById("republican2").innerHTML=parseFloat(M).toFixed(2)+"%",document.getElementById("independent2").innerHTML=parseFloat(H).toFixed(2)+"%",document.getElementById("democratTotal2").innerHTML=parseInt(e.properties.DEM2012).toLocaleString(),document.getElementById("republicanTotal2").innerHTML=parseInt(e.properties.REP2012).toLocaleString(),document.getElementById("independentTotal2").innerHTML=parseInt(e.properties.OTH2012).toLocaleString(),document.getElementById("democrat3").innerHTML=parseFloat(B).toFixed(2)+"%",document.getElementById("republican3").innerHTML=parseFloat(P).toFixed(2)+"%",document.getElementById("independent3").innerHTML=parseFloat(S).toFixed(2)+"%",document.getElementById("democratTotal3").innerHTML=parseInt(e.properties.DEM2008).toLocaleString(),document.getElementById("republicanTotal3").innerHTML=parseInt(e.properties.REP2008).toLocaleString(),document.getElementById("independentTotal3").innerHTML=parseInt(e.properties.OTH2008).toLocaleString(),0==selected&&selectMode===!0&&(selectList.push(e.properties.CO+", "+e.properties.ST+"<br>"),$("#electionTest").html(selectList),"AK"!=e.properties.ST&&(demTot+=parseInt(e.properties.DEM2016),repTot+=parseInt(e.properties.REP2016),othTot+=parseInt(e.properties.OTH2016),demTot2+=parseInt(e.properties.DEM2012),repTot2+=parseInt(e.properties.REP2012),othTot2+=parseInt(e.properties.OTH2012),demTot3+=parseInt(e.properties.DEM2008),repTot3+=parseInt(e.properties.REP2008),othTot3+=parseInt(e.properties.OTH2008)),r(),a(),i()),selectMode===!0&&(n(),election_data=[p,d,c],insertElectionChart("chartE2016","2016"),election_data=[s,l,m],insertElectionChart("chartE2012","2012"),election_data=[T,u,g],insertElectionChart("chartE2008","2008"),o())}),t.on("contextmenu",function(t){if(1==selected){var h=selectList.indexOf(e.properties.CO+", "+e.properties.ST+"<br>");h>-1&&selectList.splice(h,1),$("#electionTest").html(selectList),"AK"!=e.properties.ST&&(demTot-=parseInt(e.properties.DEM2016),repTot-=parseInt(e.properties.REP2016),othTot-=parseInt(e.properties.OTH2016),demTot2-=parseInt(e.properties.DEM2012),repTot2-=parseInt(e.properties.REP2012),othTot2-=parseInt(e.properties.OTH2012),demTot3-=parseInt(e.properties.DEM2008),repTot3-=parseInt(e.properties.REP2008),othTot3-=parseInt(e.properties.OTH2008)),r(),a(),i()}1==selectMode&&1==selected&&(n(),election_data=[p,d,c],insertElectionChart("chartE2016","2016"),election_data=[s,l,m],insertElectionChart("chartE2012","2012"),election_data=[T,u,g],insertElectionChart("chartE2008","2008"),o())})}function n(){function o(){document.getElementById("totpop1").innerHTML=pop2010Tot.toLocaleString(),document.getElementById("totpop2").innerHTML=pop2000Tot.toLocaleString(),document.getElementById("totpop3").innerHTML=pop1990Tot.toLocaleString(),document.getElementById("totpop4").innerHTML=pop1980Tot.toLocaleString(),document.getElementById("gain1").innerHTML=r.toLocaleString(),document.getElementById("gain2").innerHTML=a.toLocaleString(),document.getElementById("gain3").innerHTML=i.toLocaleString(),document.getElementById("growth1").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("growth2").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("growth3").innerHTML=parseFloat(c).toFixed(2)+"%"}function n(){document.getElementById("chart_container2").innerHTML='<br><br><br><br><br><br><br><br><br><br><canvas id="chartGrowth" height="90px" width="100px"></canvas>'}var r=e.properties.POP2010-e.properties.POP2000,a=e.properties.POP2000-e.properties.POP1990,i=e.properties.POP1990-e.properties.POP1980,p=(e.properties.POP2010-e.properties.POP2000)/e.properties.POP2000*100,d=(e.properties.POP2000-e.properties.POP1990)/e.properties.POP1990*100,c=(e.properties.POP1990-e.properties.POP1980)/e.properties.POP1980*100;t.on("click",function(t){document.getElementById("sbar-table").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser2"></span>',document.getElementById("mapChooser2").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartGrowth">1980-2010 Graph</a></li></ul>',n(),census_data=[e.properties.POP1980,e.properties.POP1990,e.properties.POP2000,e.properties.POP2010],insertCensusChart(),document.getElementById("totpop1").innerHTML=e.properties.POP2010.toLocaleString(),document.getElementById("totpop2").innerHTML=e.properties.POP2000.toLocaleString(),document.getElementById("totpop3").innerHTML=e.properties.POP1990.toLocaleString(),document.getElementById("totpop4").innerHTML=e.properties.POP1980.toLocaleString(),document.getElementById("gain1").innerHTML=r.toLocaleString(),document.getElementById("gain2").innerHTML=a.toLocaleString(),document.getElementById("gain3").innerHTML=i.toLocaleString(),document.getElementById("growth1").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("growth2").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("growth3").innerHTML=parseFloat(c).toFixed(2)+"%",0==selected&&selectMode===!0&&(document.getElementById("sbar-table").innerHTML='Selected Counties<span class="dropdown" id="mapChooser2"></span>',document.getElementById("mapChooser2").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartGrowth">1980-2010 Graph</a></li></ul>',pop1980Tot+=parseInt(e.properties.POP1980),pop1990Tot+=parseInt(e.properties.POP1990),pop2000Tot+=parseInt(e.properties.POP2000),pop2010Tot+=parseInt(e.properties.POP2010),r=pop2010Tot-pop2000Tot,a=pop2000Tot-pop1990Tot,i=pop1990Tot-pop1980Tot,p=(pop2010Tot-pop2000Tot)/pop2000Tot*100,d=(pop2000Tot-pop1990Tot)/pop1990Tot*100,c=(pop1990Tot-pop1980Tot)/pop1980Tot*100),selectMode===!0&&(n(),census_data=[pop1980Tot,pop1990Tot,pop2000Tot,pop2010Tot],insertCensusChart(),o())}),t.on("contextmenu",function(t){1==selected&&(pop1980Tot-=parseInt(e.properties.POP1980),pop1990Tot-=parseInt(e.properties.POP1990),pop2000Tot-=parseInt(e.properties.POP2000),pop2010Tot-=parseInt(e.properties.POP2010),r=pop2010Tot-pop2000Tot,a=pop2000Tot-pop1990Tot,i=pop1990Tot-pop1980Tot,p=(pop2010Tot-pop2000Tot)/pop2000Tot*100,d=(pop2000Tot-pop1990Tot)/pop1990Tot*100,c=(pop1990Tot-pop1980Tot)/pop1980Tot*100),1==selectMode&&1==selected&&(n(),census_data=[pop1980Tot,pop1990Tot,pop2000Tot,pop2010Tot],insertCensusChart("chartE2016","2016"),o())})}function r(){function o(){document.getElementById("whitetot2010").innerHTML=whiteTot.toLocaleString(),document.getElementById("whitetot2000").innerHTML=whiteTot2000.toLocaleString(),document.getElementById("blacktot2010").innerHTML=blackTot.toLocaleString(),document.getElementById("blacktot2000").innerHTML=blackTot2000.toLocaleString(),document.getElementById("nativetot2010").innerHTML=nativeTot.toLocaleString(),document.getElementById("nativetot2000").innerHTML=nativeTot2000.toLocaleString(),document.getElementById("asiantot2010").innerHTML=asianTot.toLocaleString(),document.getElementById("asiantot2000").innerHTML=asianTot2000.toLocaleString(),document.getElementById("pactot2010").innerHTML=pacificTot.toLocaleString(),document.getElementById("pactot2000").innerHTML=pacificTot2000.toLocaleString(),document.getElementById("multitot2010").innerHTML=multiracialTot.toLocaleString(),document.getElementById("multitot2000").innerHTML=multiracialTot2000.toLocaleString(),document.getElementById("histot2010").innerHTML=hispanicTot.toLocaleString(),document.getElementById("histot2000").innerHTML=hispanicTot2000.toLocaleString(),document.getElementById("whiteper2010").innerHTML=parseFloat(a).toFixed(2)+"%",document.getElementById("whiteper2000").innerHTML=parseFloat(i).toFixed(2)+"%",document.getElementById("blackper2010").innerHTML=parseFloat(p).toFixed(2)+"%",document.getElementById("blackper2000").innerHTML=parseFloat(d).toFixed(2)+"%",document.getElementById("nativeper2010").innerHTML=parseFloat(c).toFixed(2)+"%",document.getElementById("nativeper2000").innerHTML=parseFloat(s).toFixed(2)+"%",document.getElementById("asianper2010").innerHTML=parseFloat(l).toFixed(2)+"%",document.getElementById("asianper2000").innerHTML=parseFloat(m).toFixed(2)+"%",document.getElementById("pacper2010").innerHTML=parseFloat(T).toFixed(2)+"%",document.getElementById("pacper2000").innerHTML=parseFloat(u).toFixed(2)+"%",document.getElementById("multiper2010").innerHTML=parseFloat(g).toFixed(2)+"%",document.getElementById("multiper2000").innerHTML=parseFloat(h).toFixed(2)+"%",document.getElementById("hisper2010").innerHTML=parseFloat(L).toFixed(2)+"%",document.getElementById("hisper2000").innerHTML=parseFloat(E).toFixed(2)+"%"}function n(){document.getElementById("chart_container3").innerHTML='<br><br><br><br><br><br><br><br><br><br><canvas id="chartD2010" height="100px" width="100px"></canvas><br><br><br><canvas id="chartD2000" height="100px" width="100px"></canvas><br>'}function r(){a=whiteTot/pop2010Tot*100,i=whiteTot2000/pop2000Tot*100,p=blackTot/pop2010Tot*100,d=blackTot2000/pop2000Tot*100,c=nativeTot/pop2010Tot*100,s=nativeTot2000/pop2000Tot*100,l=asianTot/pop2010Tot*100,m=asianTot2000/pop2000Tot*100,T=pacificTot/pop2010Tot*100,u=pacificTot2000/pop2000Tot*100,g=multiracialTot/pop2010Tot*100,h=multiracialTot2000/pop2000Tot*100,L=hispanicTot/pop2010Tot*100,E=hispanicTot2000/pop2000Tot*100}var a,i,p,d,c,s,l,m,T,u,g,h,L,E,I=e.properties.WHI2010/e.properties.POP2010*100,b=e.properties.WHI2000/e.properties.POP2000*100,y=e.properties.BLA2010/e.properties.POP2010*100,M=e.properties.BLA2000/e.properties.POP2000*100,H=e.properties.NAT2010/e.properties.POP2010*100,f=e.properties.NAT2000/e.properties.POP2000*100,B=e.properties.ASI2010/e.properties.POP2010*100,P=e.properties.ASI2000/e.properties.POP2000*100,S=e.properties.HAW2010/e.properties.POP2010*100,x=e.properties.HAW2000/e.properties.POP2000*100,F=e.properties.MUL2010/e.properties.POP2010*100,v=e.properties.MUL2000/e.properties.POP2000*100,O=e.properties.LAT2010/e.properties.POP2010*100,w=e.properties.LAT2000/e.properties.POP2000*100;t.on("click",function(t){document.getElementById("demoHeader").innerHTML=e.properties.CO+", "+e.properties.ST+'<span class="dropdown" id="mapChooser3"></span>',document.getElementById("mapChooser3").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartD2010">2010 Graph</a></li><li><a href="#chartD2000">2000 Graph</a></li></ul>',n(),demo_data=[I,y,H,B,S,F,O],insertDemoChart("chartD2010","2010"),demo_data=[b,M,f,P,x,v,w],insertDemoChart("chartD2000","2000"),document.getElementById("whitetot2010").innerHTML=e.properties.WHI2010.toLocaleString(),document.getElementById("whitetot2000").innerHTML=e.properties.WHI2000.toLocaleString(),document.getElementById("blacktot2010").innerHTML=e.properties.BLA2010.toLocaleString(),document.getElementById("blacktot2000").innerHTML=e.properties.BLA2000.toLocaleString(),document.getElementById("nativetot2010").innerHTML=e.properties.NAT2010.toLocaleString(),document.getElementById("nativetot2000").innerHTML=e.properties.NAT2000.toLocaleString(),document.getElementById("asiantot2010").innerHTML=e.properties.ASI2010.toLocaleString(),document.getElementById("asiantot2000").innerHTML=e.properties.ASI2000.toLocaleString(),document.getElementById("pactot2010").innerHTML=e.properties.HAW2010.toLocaleString(),document.getElementById("pactot2000").innerHTML=e.properties.HAW2000.toLocaleString(),document.getElementById("multitot2010").innerHTML=e.properties.MUL2010.toLocaleString(),document.getElementById("multitot2000").innerHTML=e.properties.MUL2000.toLocaleString(),document.getElementById("histot2010").innerHTML=e.properties.LAT2010.toLocaleString(),document.getElementById("histot2000").innerHTML=e.properties.LAT2000.toLocaleString(),document.getElementById("whiteper2010").innerHTML=parseFloat(I).toFixed(2)+"%",document.getElementById("whiteper2000").innerHTML=parseFloat(b).toFixed(2)+"%",document.getElementById("blackper2010").innerHTML=parseFloat(y).toFixed(2)+"%",document.getElementById("blackper2000").innerHTML=parseFloat(M).toFixed(2)+"%",document.getElementById("nativeper2010").innerHTML=parseFloat(H).toFixed(2)+"%",document.getElementById("nativeper2000").innerHTML=parseFloat(f).toFixed(2)+"%",document.getElementById("asianper2010").innerHTML=parseFloat(B).toFixed(2)+"%",document.getElementById("asianper2000").innerHTML=parseFloat(P).toFixed(2)+"%",document.getElementById("pacper2010").innerHTML=parseFloat(S).toFixed(2)+"%",document.getElementById("pacper2000").innerHTML=parseFloat(x).toFixed(2)+"%",document.getElementById("multiper2010").innerHTML=parseFloat(F).toFixed(2)+"%",document.getElementById("multiper2000").innerHTML=parseFloat(v).toFixed(2)+"%",document.getElementById("hisper2010").innerHTML=parseFloat(O).toFixed(2)+"%",document.getElementById("hisper2000").innerHTML=parseFloat(w).toFixed(2)+"%",0==selected&&selectMode===!0&&(document.getElementById("demoHeader").innerHTML='Selected Counties<span class="dropdown" id="mapChooser3"></span>',document.getElementById("mapChooser3").innerHTML='&nbsp;&nbsp;<button class="btn btn-primary dropdown-toggle" id="testbutton" type="button" data-toggle="dropdown"><i class="fa fa-bar-chart-o"></i><span class="caret"></span></button><ul class="dropdown-menu"><li><a href="#chartD2010">2010 Graph</a></li><li><a href="#chartD2000">2000 Graph</a></li></ul>',whiteTot+=parseInt(e.properties.WHI2010),blackTot+=parseInt(e.properties.BLA2010),nativeTot+=parseInt(e.properties.NAT2010),asianTot+=parseInt(e.properties.ASI2010),pacificTot+=parseInt(e.properties.HAW2010),multiracialTot+=parseInt(e.properties.MUL2010),hispanicTot+=parseInt(e.properties.LAT2010),whiteTot2000+=parseInt(e.properties.WHI2000),blackTot2000+=parseInt(e.properties.BLA2000),nativeTot2000+=parseInt(e.properties.NAT2000),asianTot2000+=parseInt(e.properties.ASI2000),pacificTot2000+=parseInt(e.properties.HAW2000),multiracialTot2000+=parseInt(e.properties.MUL2000),hispanicTot2000+=parseInt(e.properties.LAT2000),r()),selectMode===!0&&(n(),demo_data=[a,p,c,l,T,g,L],insertDemoChart("chartD2010","2010"),demo_data=[i,d,s,m,u,h,E],insertDemoChart("chartD2000","2000"),o())}),t.on("contextmenu",function(t){1==selected&&(whiteTot-=parseInt(e.properties.WHI2010),blackTot-=parseInt(e.properties.BLA2010),nativeTot-=parseInt(e.properties.NAT2010),asianTot-=parseInt(e.properties.ASI2010),pacificTot-=parseInt(e.properties.HAW2010),multiracialTot-=parseInt(e.properties.MUL2010),hispanicTot-=parseInt(e.properties.LAT2010),whiteTot2000-=parseInt(e.properties.WHI2000),blackTot2000-=parseInt(e.properties.BLA2000),nativeTot2000-=parseInt(e.properties.NAT2000),asianTot2000-=parseInt(e.properties.ASI2000),pacificTot2000-=parseInt(e.properties.HAW2000),multiracialTot2000-=parseInt(e.properties.MUL2000),hispanicTot2000-=parseInt(e.properties.LAT2000),r()),1==selectMode&&1==selected&&(n(),demo_data=[I,y,H,B,S,F,O],insertDemoChart("chartD2010","2010"),demo_data=[b,M,f,P,x,v,w],insertDemoChart("chartD2000","2000"),o())})}function a(o,n,r){var a=o+n+r,i=o/a*100,p=n/a*100;t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Democrat:&nbsp;</b>"+i.toFixed(2)+"%<br> <b>Republican:&nbsp;</b>"+Number(p).toFixed(2)+"%</div>",{permanent:!1})}function i(o,n){var r=(o-n)/n*100;t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Total Population:&nbsp;</b>"+parseInt(o).toLocaleString()+"<br> <b>Population Growth:&nbsp;</b>"+Number(r).toFixed(2)+"%</div>",{permanent:!1})}function p(o,n){var r=o,a=n/r*100;t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.CO+", "+e.properties.ST+"</b></u></big><br><div class = 'popup_body'> <b>Total "+ethnicGroup+":&nbsp;</b>"+parseInt(n).toLocaleString()+"<br> <b>Percent "+ethnicGroup+":&nbsp;</b>"+Number(a).toFixed(2)+"%</div>",{permanent:!1})}o(),n(),r(),e.properties&&(a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016),$("#election_16, #election_16s").click(function(){a(e.properties.DEM2016,e.properties.REP2016,e.properties.OTH2016)}),$("#election_12, #election_12s").click(function(){a(e.properties.DEM2012,e.properties.REP2012,e.properties.OTH2012)}),$("#election_08, #election_08s").click(function(){a(e.properties.DEM2008,e.properties.REP2008,e.properties.OTH2008)}),$("#census_10, #census_10s").click(function(){i(e.properties.POP2010,e.properties.POP2000)}),$("#census_00, #census_00s").click(function(){i(e.properties.POP2000,e.properties.POP1990)}),$("#demo_10, #demo_10s").click(function(){p(e.properties.POP2010,e.properties.WHI2010)}),$("#demo_00, #demo_00s").click(function(){p(e.properties.POP2000,e.properties.WHI2000)}))}function collapse_sidebar(e){document.getElementById(e).addEventListener("click",function(){document.getElementById("sidebar").className="sidebar sidebar-left collapsed"})}function clearStuff(){selectList=[],$("#electionTest").html(selectList),demTot=0,repTot=0,othTot=0,demTot2=0,repTot2=0,othTot2=0,demTot3=0,repTot3=0,othTot3=0,pop2010Tot=0,pop2000Tot=0,pop1990Tot=0,pop1980Tot=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,whiteTot2000=0,blackTot2000=0,nativeTot2000=0,asianTot2000=0,pacificTot2000=0,multiracialTot2000=0,hispanicTot2000=0,counties2010.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})}var new2010,election2012,election2008,census2010,census2000,demo2010,demo2000,states,election_data,census_data,demo_data,labels,map,sidebar,osm,electionLegend,censusLegend,demoLegend,currentLegend,currentMap="election2016",currentTable,options,demTot=0,repTot=0,othTot=0,demTot2=0,repTot2=0,othTot2=0,demTot3=0,repTot3=0,othTot3=0,pop2010Tot=0,pop2000Tot=0,pop1990Tot=0,pop1980Tot=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,whiteTot2000=0,blackTot2000=0,nativeTot2000=0,asianTot2000=0,pacificTot2000=0,multiracialTot2000=0,hispanicTot2000=0,selectMode=!1,selectList=[],selected=!1,ethnicGroup;if($(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()}),$(window).width()>700)var demolabels=["White",["Black or","African American"],["American Indian or","Alaska Native"],"Asian",["Native Hawaiian or","Other Pacific Islander"],["Multiracial"],["Hispanic or","Latino"]];else var demolabels=["White",["Black"],["Nat. Am/Nat. AK."],"Asian",["Nat. HI/Pac-Isl"],["Multiracial"],["Hisp/Lat"]];map=L.map("map",{center:[39.1,-94.5],zoom:4.5,zoomControl:!1}),map.createPane("labels"),map.getPane("labels").style.zIndex=500,map.getPane("labels").style.pointerEvents="none",osm=L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(map),counties2010=new L.GeoJSON.AJAX("geography/2010.geojson",{style:defaultStyle,onEachFeature:onEachFeature}).addTo(map),states=new L.GeoJSON.AJAX("geography/states-min.geojson",{style:statesStyle,pane:"labels"}).addTo(map),sidebar=L.control.sidebar("sidebar").addTo(map),document.getElementById("disable_legend").addEventListener("click",function(){document.getElementById("disable_legend").checked?map.removeControl(currentLegend):map.addControl(currentLegend)}),document.getElementById("bigMapMode").addEventListener("click",function(){if(document.getElementById("bigMapMode").checked){var e=document.getElementsByTagName("body")[0],t=document.getElementsByTagName("html")[0];e.style.padding="0",e.style.height="100%",t.style.height="100%",map.invalidateSize()}else{var e=document.getElementsByTagName("body")[0],t=document.getElementsByTagName("html")[0];e.style.padding="70px 2% 0 2%",e.style.height="94%",t.style.height="94%",map.invalidateSize()}}),$("#sidebar").draggable(),$("#sidebar").draggable("option","handle","h1, #info_chart, #table, #settings, #sbar-tabs"),L.control.scale().addTo(map),new L.Control.Zoom({position:"topright"}).addTo(map),electionLegend=L.control({position:"bottomright"}),electionLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return t.innerHTML+='<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="electionlegend1"></td><td>30%+ D</td></tr><tr><td class="color" id="electionlegend2"></td><td>20-30% D</td></tr></tr><tr><td class="color" id="electionlegend3"></td><td>10-20% D</td></tr></tr><tr><td class="color" id="electionlegend4"></td><td>0-10% D</td></tr></tr><tr><td class="color" id="electionlegend5"></td><td>0-10% R</td></tr></tr><tr><td class="color" id="electionlegend6"></td><td>10-20% R</td></tr></tr><tr><td class="color" id="electionlegend7"></td><td>20-30% R</td></tr></tr><tr><td class="color" id="electionlegend8"></td><td>30%+ R</td></tr>',t},censusLegend=L.control({position:"bottomright"}),censusLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return t.innerHTML+='<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="colorlegend1"></td><td>30%+</td></tr><tr><td class="color" id="colorlegend2"></td><td>25-30%</td></tr></tr><tr><td class="color" id="colorlegend3"></td><td>20-25%</td></tr></tr><tr><td class="color" id="colorlegend4"></td><td>15-20%</td></tr></tr><tr><td class="color" id="colorlegend5"></td><td>10-15%</td></tr></tr><tr><td class="color" id="colorlegend6"></td><td>5-10%</td></tr></tr><tr><td class="color" id="colorlegend7"></td><td>0-5%</td></tr></tr><tr><td class="color" id="colorlegend8"></td><td>-5-0%</td></tr></tr><tr><td class="color" id="colorlegend9"></td><td><-5%</td></tr>',t},demoLegend=L.control({position:"bottomright"}),demoLegend.onAdd=function(e){for(var t=L.DomUtil.create("div","legend"),o=[0,60,65,70,75,80,85,90,95],n=0;n<o.length;n++)t.innerHTML+='<i style="background:'+GetColor3(o[n]+.01)+'"></i> '+o[n]+(o[n+1]?"&ndash;"+o[n+1]+"%<br>":"%+");return t},electionLegend.addTo(map),currentLegend=electionLegend,counties2010.on("data:loaded",function(){$(".loader").fadeOut("slow")}),$(window).width()<450&&(document.getElementById("sidebar").className="sidebar sidebar-left",document.getElementById("infotab").className="active",document.getElementById("info_chart").className="sidebar-pane ui-draggable-handle active",document.getElementById("userMessage").innerHTML="Scroll down for info charts and map options.",document.getElementById("countySearch").innerHTML="<input type='text' id='county_search' class='form-control' placeholder='Find a county'/>",document.getElementById("searchDiv").innerHTML=""),options={data:coordinates,getValue:"County",list:{maxNumberOfElements:6,match:{enabled:!0},onChooseEvent:function(){var e=$("#county_search").getSelectedItemData().Latitude,t=$("#county_search").getSelectedItemData().Longitude;map.setView([e,t],9)}}},$("#county_search").easyAutocomplete(options),currentMap="election2016",currentTable=document.getElementById("election_table"),document.getElementById("mapTitleText").innerHTML="<center>2016: PRESIDENTIAL ELECTION RESULTS</center>",$("#election_08, #election_08s").click(function(){clearStuff(),currentMap="election2008",counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',
document.getElementById("mapTitleText").innerHTML="<center>2008: PRESIDENTIAL ELECTION RESULTS</center>",map.removeControl(currentLegend),currentLegend=electionLegend,electionLegend.addTo(map)}),$("#election_12, #election_12s").click(function(){clearStuff(),currentMap="election2012",counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2012: PRESIDENTIAL ELECTION RESULTS</center>",map.removeControl(currentLegend),currentLegend=electionLegend,electionLegend.addTo(map)}),$("#election_16, #election_16s").click(function(){clearStuff(),currentMap="election2016",counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2016: PRESIDENTIAL ELECTION RESULTS</center>",map.removeControl(currentLegend),currentLegend=electionLegend,electionLegend.addTo(map)}),$("#census_00, #census_00s").click(function(){clearStuff(),currentMap="census2000",counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2000: POPULATION GROWTH SINCE 1990 </center>",map.removeControl(currentLegend),currentLegend=censusLegend,censusLegend.addTo(map)}),$("#census_10, #census_10s").click(function(){clearStuff(),currentMap="census2010",counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2010: POPULATION GROWTH SINCE 2000 </center>",map.removeControl(currentLegend),currentLegend=censusLegend,censusLegend.addTo(map)}),$("#demo_00, #demo_00s").click(function(){clearStuff(),ethnicGroup="White",currentMap="demo2000",counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2000: PERCENT WHITE </center>",map.removeControl(currentLegend),currentLegend=demoLegend,demoLegend.addTo(map)}),$("#demo_10, #demo_10s").click(function(){clearStuff(),ethnicGroup="White",currentMap="demo2010",counties2010.setStyle(defaultStyle),document.getElementById("chart_container").innerHTML='<canvas id="chartE2016" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2010: PERCENT WHITE </center>",map.removeControl(currentLegend),currentLegend=demoLegend,demoLegend.addTo(map)}),$(".state_outlines").click(function(){map.hasLayer(states)===!1?map.addLayer(states):map.removeLayer(states)}),$(".base_map").click(function(){map.hasLayer(osm)===!1?map.addLayer(osm):map.removeLayer(osm)}),$(".selectMode").click(function(){selectMode=selectMode===!1?!0:!1,selectList=[],$("#electionTest").html(selectList),counties2010.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})}),$(".layercontrol").click(function(){clearStuff()}),$(".clearSelection").click(function(){clearStuff()});