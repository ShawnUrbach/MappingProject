function electionStyle(e){return{fillColor:electionGetColor(e.properties.DIF),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function censusStyle(e){return{fillColor:censusGetColor(e.properties.PER_CHA),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function demoStyle(e){return{fillColor:demoGetColor(e.properties.PER_WHITE),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function statesStyle(e){return{weight:3,opacity:1,color:"black",dashArray:"3",fillOpacity:.7}}function electionGetColor(e){return e>30?"#104896":e>20?"#2d67b7":e>10?"#4880ce":e>0?"#87b9ff":e>-10?"#f7d4d4":e>-20?"#ff9696":e>-30?"#ff6d6d":e>-100?"#ff2b2b":"#01347c"}function censusGetColor(e){return e>30?"#b30000":e>25?"#e60000":e>20?"#ff1a1a":e>15?"#ff4d4d":e>10?"#ff8080":e>5?"#ffb3b3":e>0?"#ffe6e6":e>-5?"#9999ff":"#00008B"}function demoGetColor(e){return e>95?"#b30000":e>90?"#e60000":e>85?"#ff1a1a":e>80?"#ff4d4d":e>75?"#ff8080":e>70?"#ffb3b3":e>65?"#ffe6e6":e>60?"#9999ff":"#00008B"}function highlightFeature(e){if(0==selectMode){var t=e.target;t.setStyle({weight:4,color:"black",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}}function resetHighlightElection(e){0==selectMode&&currentMap.resetStyle(e.target)}function resetHighlightElection2(e){if(1==selectMode){var t=e.target;4==t.options.weight?(selected=!0,currentMap.resetStyle(e.target)):selected=!1}}function resetHighlightCensus(e){0==selectMode&&currentMap.resetStyle(e.target)}function resetHighlightDemo(e){0==selectMode&&currentMap.resetStyle(e.target)}function zoomToFeature(e){0==selectMode&&map.fitBounds(e.target.getBounds());var t=e.target;selected=4==t.options.weight?!0:!1,t.setStyle({weight:4,color:"black",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront()}function insertElectionChart(){var e=document.getElementById("myChart");new Chart(e,{type:"pie",data:{labels:["Democrat","Republican","Other"],datasets:[{data:election_data,borderWidth:1,backgroundColor:["blue","red","yellow"]}]},options:{animation:{duration:1e3,easing:"easeInExpo"},maintainAspectRatio:!0}})}function insertCensusChart(){var e=document.getElementById("myChart");new Chart(e,{type:"line",data:{labels:labels,datasets:[{label:"Population Growth",data:census_data,borderWidth:1,backgroundColor:["red"],borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:500,easing:"easeInExpo"},maintainAspectRatio:!0}})}function insertDemoChart(){var e=document.getElementById("myChart");new Chart(e,{type:"bar",data:{labels:demolabels,datasets:[{label:"Race by Percentage of Total",data:demo_data,borderWidth:1,borderColor:"red",lineTension:.1,fill:!1}]},options:{animation:{duration:1e3,easing:"easeInExpo"},maintainAspectRatio:!0}})}function election_onEachFeature(e,t){t.on({mouseover:highlightFeature,mouseout:resetHighlightElection,click:zoomToFeature,contextmenu:resetHighlightElection2}),t.on("click",function(t){document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',election_data=[e.properties.PER_DEM,e.properties.PER_REP,e.properties.PER_OTH],insertElectionChart(),document.getElementById("sbar-table").innerHTML=e.properties.COUNTY+", "+e.properties.STATE+'<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML=e.properties.COUNTY+", "+e.properties.STATE+'<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("democrat").innerHTML=parseFloat(e.properties.PER_DEM).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(e.properties.PER_REP).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(e.properties.PER_OTH).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(e.properties.TOT_DEM).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(e.properties.TOT_REP).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(e.properties.TOT_OTH).toLocaleString(),0==selected&&(selectList.push(e.properties.COUNTY+", "+e.properties.STATE+"<br>"),$("#electionTest").html(selectList),demTot2=parseInt(e.properties.TOT_DEM),demTot+=demTot2,repTot2=parseInt(e.properties.TOT_REP),repTot+=repTot2,othTot2=parseInt(e.properties.TOT_OTH),othTot+=othTot2),demPer=demTot/(demTot+repTot+othTot)*100,repPer=repTot/(demTot+repTot+othTot)*100,othPer=othTot/(demTot+repTot+othTot)*100,selectMode===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',election_data=[demPer,repPer,othPer],insertElectionChart(),document.getElementById("sbar-table").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("democrat").innerHTML=parseFloat(demPer).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(repPer).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(othPer).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(demTot).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(repTot).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(othTot).toLocaleString())}),t.on("contextmenu",function(t){var a=selectList.indexOf(e.properties.COUNTY+", "+e.properties.STATE+"<br>");a>-1&&selectList.splice(a,1),$("#electionTest").html(selectList),1==selected&&(demTot2=parseInt(e.properties.TOT_DEM),demTot-=demTot2,console.log(demTot),repTot2=parseInt(e.properties.TOT_REP),repTot-=repTot2,othTot2=parseInt(e.properties.TOT_OTH),othTot-=othTot2),demPer=demTot/(demTot+repTot+othTot)*100,repPer=repTot/(demTot+repTot+othTot)*100,othPer=othTot/(demTot+repTot+othTot)*100,selectMode===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',election_data=[demPer,repPer,othPer],insertElectionChart(),document.getElementById("sbar-table").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("democrat").innerHTML=parseFloat(demPer).toFixed(2)+"%",document.getElementById("republican").innerHTML=parseFloat(repPer).toFixed(2)+"%",document.getElementById("independent").innerHTML=parseFloat(othPer).toFixed(2)+"%",document.getElementById("democratTotal").innerHTML=parseInt(demTot).toLocaleString(),document.getElementById("republicanTotal").innerHTML=parseInt(repTot).toLocaleString(),document.getElementById("independentTotal").innerHTML=parseInt(othTot).toLocaleString())}),e.properties&&t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.COUNTY+", "+e.properties.STATE+"</b></u></big><br><div class = 'popup_body'> <b>Democrat:&nbsp;</b>"+Number(e.properties.PER_DEM).toFixed(2)+"%<br> <b>Republican:&nbsp;</b>"+Number(e.properties.PER_REP).toFixed(2)+"%</div>",{permanent:!1})}function census_onEachFeature(e,t){t.on({mouseover:highlightFeature,mouseout:resetHighlightCensus,click:zoomToFeature,contextmenu:resetHighlightElection2}),t.on("click",function(t){document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',census_data=[Number(e.properties.TOT_1980),Number(e.properties.TOT_1990),e.properties.TOT_CUR],map.hasLayer(census2000)===!0&&(labels=["1980","1990","2000"],document.getElementById("census_table").innerHTML='<table class="table table-hover"><tr><th>2000 Growth:</th><td id="growth_2000"></td></tr><tr><th>2000 Pop:</th><td id="total_pop"></td></tr><tr><th>1990 Pop:</th><td id="pop_1990"></td></tr><tr><th>1980 Pop:</th><td id="pop_1980"></td></tr></table>',document.getElementById("total_pop").innerHTML=parseInt(e.properties.TOT_CUR).toLocaleString(),document.getElementById("pop_1990").innerHTML=parseInt(e.properties.TOT_1990).toLocaleString(),document.getElementById("pop_1980").innerHTML=parseInt(e.properties.TOT_1980).toLocaleString(),document.getElementById("growth_2000").innerHTML=e.properties.PER_CHA+"%"),map.hasLayer(census2010)===!0&&(census_data=[Number(e.properties.TOT_1980),Number(e.properties.TOT_1990),Number(e.properties.TOT_2000),e.properties.TOT_CUR],labels=["1980","1990","2000","2010"],document.getElementById("census_table").innerHTML='<table class="table table-hover"><tr><th>2010 Growth:</th><td id="growth_2010"></td></tr><tr><th>2010 Pop:</th><td id="total_pop"></td></tr><tr><th>2000 Pop:</th><td id="pop_2000"></td></tr><tr><th>1990 Pop:</th><td id="pop_1990"></td></tr><tr><th>1980 Pop:</th><td id="pop_1980"></td></tr></table>',document.getElementById("total_pop").innerHTML=parseInt(e.properties.TOT_CUR).toLocaleString(),document.getElementById("pop_2000").innerHTML=parseInt(e.properties.TOT_2000).toLocaleString(),document.getElementById("pop_1990").innerHTML=parseInt(e.properties.TOT_1990).toLocaleString(),document.getElementById("pop_1980").innerHTML=parseInt(e.properties.TOT_1980).toLocaleString(),document.getElementById("growth_2010").innerHTML=e.properties.PER_CHA+"%"),insertCensusChart(),0==selected&&(selectList.push(e.properties.COUNTY+", "+e.properties.STATE+"<br>"),$("#electionTest").html(selectList),total102=e.properties.TOT_CUR,total10+=total102,total002=parseInt(e.properties.TOT_2000),total00+=total002,totalPop2=e.properties.TOT_CUR,totalPop+=totalPop2,total2=parseInt(e.properties.TOT_1990),total90+=total2,total3=parseInt(e.properties.TOT_1980),total80+=total3),growth2000=(totalPop-total90)/total90*100,growth2010=(total10-total00)/total00*100,selectMode===!0&&(map.hasLayer(census2000)===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',census_data=[total80,total90,totalPop],labels=["1980","1990","2000"],document.getElementById("census_table").innerHTML='<table class="table table-hover"><tr><th>2000 Growth:</th><td id="growth_2000"></td></tr><tr><th>2000 Pop:</th><td id="total_pop"></td></tr><tr><th>1990 Pop:</th><td id="pop_1990"></td></tr><tr><th>1980 Pop:</th><td id="pop_1980"></td></tr></table>',document.getElementById("total_pop").innerHTML=parseInt(totalPop).toLocaleString(),document.getElementById("pop_1990").innerHTML=parseInt(total90).toLocaleString(),document.getElementById("pop_1980").innerHTML=parseInt(total80).toLocaleString(),document.getElementById("growth_2000").innerHTML=parseFloat(growth2000).toFixed(2)+"%",insertCensusChart(),document.getElementById("sbar-table").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>'),map.hasLayer(census2010)===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',census_data=[total80,total90,total00,total10],labels=["1980","1990","2000","2010"],document.getElementById("census_table").innerHTML='<table class="table table-hover"><tr><th>2010 Growth:</th><td id="growth_2010"></td></tr><tr><th>2010 Pop:</th><td id="total_pop"></td></tr><tr><th>2000 Pop:</th><td id="pop_2000"></td></tr><tr><th>1990 Pop:</th><td id="pop_1990"></td></tr><tr><th>1980 Pop:</th><td id="pop_1980"></td></tr></table>',document.getElementById("total_pop").innerHTML=parseInt(total10).toLocaleString(),document.getElementById("pop_2000").innerHTML=parseInt(total00).toLocaleString(),document.getElementById("pop_1990").innerHTML=parseInt(total90).toLocaleString(),document.getElementById("pop_1980").innerHTML=parseInt(total80).toLocaleString(),document.getElementById("growth_2010").innerHTML=parseFloat(growth2010).toFixed(2)+"%",insertCensusChart(),document.getElementById("sbar-table").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>')),selectMode===!1&&(document.getElementById("sbar-table").innerHTML=e.properties.COUNTY+", "+e.properties.STATE+'<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML=e.properties.COUNTY+", "+e.properties.STATE+'<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>')}),t.on("contextmenu",function(t){var a=selectList.indexOf(e.properties.COUNTY+", "+e.properties.STATE+"<br>");a>-1&&selectList.splice(a,1),$("#electionTest").html(selectList),1==selected&&(total102=e.properties.TOT_CUR,total10-=total102,total002=parseInt(e.properties.TOT_2000),total00-=total002,totalPop2=e.properties.TOT_CUR,totalPop-=totalPop2,total2=parseInt(e.properties.TOT_1990),total90-=total2,total3=parseInt(e.properties.TOT_1980),total80-=total3),growth2000=(totalPop-total90)/total90*100,growth2010=(total10-total00)/total00*100,selectMode===!0&&(map.hasLayer(census2000)===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',census_data=[total80,total90,totalPop],labels=["1980","1990","2000"],document.getElementById("census_table").innerHTML='<table class="table table-hover"><tr><th>2000 Growth:</th><td id="growth_2000"></td></tr><tr><th>2000 Pop:</th><td id="total_pop"></td></tr><tr><th>1990 Pop:</th><td id="pop_1990"></td></tr><tr><th>1980 Pop:</th><td id="pop_1980"></td></tr></table>',document.getElementById("total_pop").innerHTML=parseInt(totalPop).toLocaleString(),document.getElementById("pop_1990").innerHTML=parseInt(total90).toLocaleString(),document.getElementById("pop_1980").innerHTML=parseInt(total80).toLocaleString(),document.getElementById("growth_2000").innerHTML=parseFloat(growth2000).toFixed(2)+"%",insertCensusChart()),map.hasLayer(census2010)===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',census_data=[total80,total90,total00,total10],labels=["1980","1990","2000","2010"],document.getElementById("census_table").innerHTML='<table class="table table-hover"><tr><th>2010 Growth:</th><td id="growth_2010"></td></tr><tr><th>2010 Pop:</th><td id="total_pop"></td></tr><tr><th>2000 Pop:</th><td id="pop_2000"></td></tr><tr><th>1990 Pop:</th><td id="pop_1990"></td></tr><tr><th>1980 Pop:</th><td id="pop_1980"></td></tr></table>',document.getElementById("total_pop").innerHTML=parseInt(total10).toLocaleString(),document.getElementById("pop_2000").innerHTML=parseInt(total00).toLocaleString(),document.getElementById("pop_1990").innerHTML=parseInt(total90).toLocaleString(),document.getElementById("pop_1980").innerHTML=parseInt(total80).toLocaleString(),document.getElementById("growth_2010").innerHTML=parseFloat(growth2010).toFixed(2)+"%",insertCensusChart()))}),e.properties&&t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.COUNTY+", "+e.properties.STATE+"</b></u></big><div class='popup_body'> <b>Total Population:&nbsp;</b>"+parseInt(e.properties.TOT_CUR).toLocaleString()+"<br> <b>Growth Over Decade:&nbsp;</b>"+e.properties.PER_CHA+"%</div>",{permanent:!1})}function demo_onEachFeature(e,t){whiteTot2=parseInt(e.properties.TOT_WHITE),blackTot2=parseInt(e.properties.TOT_BLACK),nativeTot2=parseInt(e.properties.TOT_NAT),asianTot2=parseInt(e.properties.TOT_ASIAN),pacificTot2=parseInt(e.properties.TOT_HAW),multiracialTot2=parseInt(e.properties.TOT_MULTI),hispanicTot2=parseInt(e.properties.TOT_LAT),whitePer=whiteTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,blackPer=blackTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,nativePer=nativeTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,asianPer=asianTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,pacificPer=pacificTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,multiracialPer=multiracialTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,hispanicPer=hispanicTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,t.on({mouseover:highlightFeature,mouseout:resetHighlightElection,click:zoomToFeature,contextmenu:resetHighlightElection2}),t.on("click",function(t){document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',demo_data=[e.properties.PER_WHITE,e.properties.PER_BLACK,e.properties.PER_NAT,e.properties.PER_ASIAN,e.properties.PER_HAW,e.properties.PER_MULTI,e.properties.PER_LAT],insertDemoChart(),document.getElementById("sbar-table").innerHTML=e.properties.COUNTY+", "+e.properties.STATE+'<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML=e.properties.COUNTY+", "+e.properties.STATE+'<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',whiteTot2=parseInt(e.properties.TOT_WHITE),blackTot2=parseInt(e.properties.TOT_BLACK),nativeTot2=parseInt(e.properties.TOT_NAT),asianTot2=parseInt(e.properties.TOT_ASIAN),pacificTot2=parseInt(e.properties.TOT_HAW),multiracialTot2=parseInt(e.properties.TOT_MULTI),hispanicTot2=parseInt(e.properties.TOT_LAT),whitePer=whiteTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,blackPer=blackTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,nativePer=nativeTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,asianPer=asianTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,pacificPer=pacificTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,multiracialPer=multiracialTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,hispanicPer=hispanicTot2/(whiteTot2+blackTot2+nativeTot2+asianTot2+pacificTot2+multiracialTot2+hispanicTot2)*100,document.getElementById("white").innerHTML=parseFloat(whitePer).toFixed(2)+"%",document.getElementById("black").innerHTML=parseFloat(e.properties.PER_BLACK).toFixed(2)+"%",document.getElementById("native").innerHTML=parseFloat(e.properties.PER_NAT).toFixed(2)+"%",document.getElementById("asian").innerHTML=parseFloat(e.properties.PER_ASIAN).toFixed(2)+"%",document.getElementById("pacific").innerHTML=parseFloat(e.properties.PER_HAW).toFixed(2)+"%",document.getElementById("multiracial").innerHTML=parseFloat(e.properties.PER_MULTI).toFixed(2)+"%",document.getElementById("hispanic").innerHTML=parseFloat(e.properties.PER_LAT).toFixed(2)+"%",document.getElementById("whiteTotal").innerHTML=parseInt(e.properties.TOT_WHITE).toLocaleString(),document.getElementById("blackTotal").innerHTML=parseInt(e.properties.TOT_BLACK).toLocaleString(),document.getElementById("nativeTotal").innerHTML=parseInt(e.properties.TOT_NAT).toLocaleString(),document.getElementById("asianTotal").innerHTML=parseInt(e.properties.TOT_ASIAN).toLocaleString(),document.getElementById("pacificTotal").innerHTML=parseInt(e.properties.TOT_HAW).toLocaleString(),document.getElementById("multiracialTotal").innerHTML=parseInt(e.properties.TOT_MULTI).toLocaleString(),document.getElementById("hispanicTotal").innerHTML=parseInt(e.properties.TOT_LAT).toLocaleString(),0==selected&&selectMode===!0&&(selectList.push(e.properties.COUNTY+", "+e.properties.STATE+"<br>"),$("#electionTest").html(selectList),whiteTot+=whiteTot2,blackTot+=blackTot2,nativeTot+=nativeTot2,asianTot+=asianTot2,pacificTot+=pacificTot2,multiracialTot+=multiracialTot2,hispanicTot+=hispanicTot2),whitePer2=whiteTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,blackPer2=blackTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,nativePer2=nativeTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,asianPer2=asianTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,pacificPer2=pacificTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,multiracialPer2=multiracialTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,hispanicPer2=hispanicTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,selectMode===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',demo_data=[whitePer2,blackPer2,nativePer2,asianPer2,pacificPer2,multiracialPer2,hispanicPer2],insertDemoChart(),document.getElementById("sbar-table").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("white").innerHTML=parseFloat(whitePer2).toFixed(2)+"%",document.getElementById("black").innerHTML=parseFloat(blackPer2).toFixed(2)+"%",document.getElementById("native").innerHTML=parseFloat(nativePer2).toFixed(2)+"%",document.getElementById("asian").innerHTML=parseFloat(asianPer2).toFixed(2)+"%",document.getElementById("pacific").innerHTML=parseFloat(pacificPer2).toFixed(2)+"%",document.getElementById("multiracial").innerHTML=parseFloat(multiracialPer2).toFixed(2)+"%",document.getElementById("hispanic").innerHTML=parseFloat(hispanicPer2).toFixed(2)+"%",document.getElementById("whiteTotal").innerHTML=parseInt(whiteTot).toLocaleString(),document.getElementById("blackTotal").innerHTML=parseInt(blackTot).toLocaleString(),document.getElementById("nativeTotal").innerHTML=parseInt(nativeTot).toLocaleString(),document.getElementById("asianTotal").innerHTML=parseInt(asianTot).toLocaleString(),document.getElementById("pacificTotal").innerHTML=parseInt(pacificTot).toLocaleString(),document.getElementById("multiracialTotal").innerHTML=parseInt(multiracialTot).toLocaleString(),document.getElementById("hispanicTotal").innerHTML=parseInt(hispanicTot).toLocaleString())}),t.on("contextmenu",function(t){var a=selectList.indexOf(e.properties.COUNTY+", "+e.properties.STATE+"<br>");a>-1&&selectList.splice(a,1),$("#electionTest").html(selectList),1==selected&&(whiteTot2=parseInt(e.properties.TOT_WHITE),blackTot2=parseInt(e.properties.TOT_BLACK),nativeTot2=parseInt(e.properties.TOT_NAT),asianTot2=parseInt(e.properties.TOT_ASIAN),pacificTot2=parseInt(e.properties.TOT_HAW),multiracialTot2=parseInt(e.properties.TOT_MULTI),hispanicTot2=parseInt(e.properties.TOT_LAT),whiteTot-=whiteTot2,blackTot-=blackTot2,nativeTot-=nativeTot2,asianTot-=asianTot2,pacificTot-=pacificTot2,multiracialTot-=multiracialTot2,hispanicTot-=hispanicTot2),whitePer2=whiteTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,blackPer2=blackTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,nativePer2=nativeTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,asianPer2=asianTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,pacificPer2=pacificTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,multiracialPer2=multiracialTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,hispanicPer2=hispanicTot/(whiteTot+blackTot+nativeTot+asianTot+pacificTot+multiracialTot+hispanicTot)*100,selectMode===!0&&(document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',demo_data=[whitePer2,blackPer2,nativePer2,asianPer2,pacificPer2,multiracialPer2,hispanicPer2],insertDemoChart(),document.getElementById("sbar-table").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("sbar-header").innerHTML='Selected Counties<span class="sidebar-close"><i class="fa fa-caret-left" title="Click to collapse sidebar"></i></span>',document.getElementById("white").innerHTML=parseFloat(whitePer2).toFixed(2)+"%",document.getElementById("black").innerHTML=parseFloat(blackPer2).toFixed(2)+"%",document.getElementById("native").innerHTML=parseFloat(nativePer2).toFixed(2)+"%",document.getElementById("asian").innerHTML=parseFloat(asianPer2).toFixed(2)+"%",document.getElementById("pacific").innerHTML=parseFloat(pacificPer2).toFixed(2)+"%",document.getElementById("multiracial").innerHTML=parseFloat(multiracialPer2).toFixed(2)+"%",document.getElementById("hispanic").innerHTML=parseFloat(hispanicPer2).toFixed(2)+"%",document.getElementById("whiteTotal").innerHTML=parseInt(whiteTot).toLocaleString(),document.getElementById("blackTotal").innerHTML=parseInt(blackTot).toLocaleString(),document.getElementById("nativeTotal").innerHTML=parseInt(nativeTot).toLocaleString(),document.getElementById("asianTotal").innerHTML=parseInt(asianTot).toLocaleString(),document.getElementById("pacificTotal").innerHTML=parseInt(pacificTot).toLocaleString(),document.getElementById("multiracialTotal").innerHTML=parseInt(multiracialTot).toLocaleString(),document.getElementById("hispanicTotal").innerHTML=parseInt(hispanicTot).toLocaleString())}),e.properties&&($(window).width()<450?t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.COUNTY+", "+e.properties.STATE+"</b></u></big><div class = 'popup_body'> <b>White:&nbsp;</b>"+parseFloat(whitePer).toFixed(2)+"%<br> <b>Black:&nbsp;</b>"+parseFloat(blackPer).toFixed(2)+"%<br> <b>Nat. Am/Nat. AK:&nbsp;</b>"+parseFloat(nativePer).toFixed(2)+"%<br> <b>Asian:&nbsp;</b>"+parseFloat(asianPer).toFixed(2)+"%<br> <b>Nat. HI/Pac-Isl:&nbsp;</b>"+parseFloat(pacificPer).toFixed(2)+"%<br> <b>Multiracial:&nbsp;</b>"+parseFloat(multiracialPer).toFixed(2)+"%<br> <b>Hispanic/Lat:&nbsp;</b>"+parseFloat(hispanicPer).toFixed(2)+"%</div>",{permanent:!1}):t.bindTooltip("<b><u class = 'popup_title'><big>"+e.properties.COUNTY+", "+e.properties.STATE+"</b></u></big><div class = 'popup_body'> <b>White:&nbsp;</b>"+parseFloat(whitePer).toFixed(2)+"%<br> <b>Black or African American:&nbsp;</b>"+parseFloat(blackPer).toFixed(2)+"%<br> <b>American Indian or Alaska Native:&nbsp;</b>"+parseFloat(nativePer).toFixed(2)+"%<br> <b>Asian:&nbsp;</b>"+parseFloat(asianPer).toFixed(2)+"%<br> <b>Native Hawaiin or Other Pacific Islander:&nbsp;</b>"+parseFloat(pacificPer).toFixed(2)+"%<br> <b>Multiracial:&nbsp;</b>"+parseFloat(multiracialPer).toFixed(2)+"%<br> <b>Hispanic or Latino:&nbsp;</b>"+parseFloat(hispanicPer).toFixed(2)+"%</div>",{permanent:!1}))}function collapse_sidebar(e){document.getElementById(e).addEventListener("click",function(){document.getElementById("sidebar").className="sidebar sidebar-left collapsed"})}var election2012,election2008,census2010,census2000,demo2010,demo2000,states,election_data,census_data,demo_data,labels,map,sidebar,osm,electionLegend,censusLegend,demoLegend,currentLegend,currentMap,currentTable,options,demTot=0,repTot=0,othTot=0,demPer,repPer,othPer,totalPop=0,total10=0,total00=0,total90=0,total80=0,growth2000,growth2010,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,whitePer,blackPer,nativePer,asianPer,pacificPer,multiracialPer,hispanicPer,selectMode=!1,selectList=[],selectList2=[],selected=!1;if($(window).width()>450)var demolabels=["White",["Black or","African American"],["American Indian or","Alaska Native"],"Asian",["Native Hawaiian or","Other Pacific Islander"],["Multiracial"],["Hispanic or","Latino"]];else var demolabels=["White",["Black"],["Nat. Am/Nat. AK."],"Asian",["Nat. HI/Pac-Isl"],["Multiracial"],["Hisp/Lat"]];map=L.map("map",{center:[39.1,-94.5],zoom:4.5,zoomControl:!1}),map.createPane("labels"),map.getPane("labels").style.zIndex=500,map.getPane("labels").style.pointerEvents="none",osm=L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(map),election2016=new L.GeoJSON.AJAX("geography/election2016-min.geojson",{style:electionStyle,onEachFeature:election_onEachFeature}).addTo(map),election2012=new L.GeoJSON.AJAX("geography/election2012-min.geojson",{style:electionStyle,onEachFeature:election_onEachFeature}),election2008=new L.GeoJSON.AJAX("geography/election2008-min.geojson",{style:electionStyle,onEachFeature:election_onEachFeature}),census2000=new L.GeoJSON.AJAX("geography/census2000-min.geojson",{style:censusStyle,onEachFeature:census_onEachFeature}),census2010=new L.GeoJSON.AJAX("geography/census2010-min.geojson",{style:censusStyle,onEachFeature:census_onEachFeature}),demo2000=new L.GeoJSON.AJAX("geography/race2000-min.geojson",{style:demoStyle,onEachFeature:demo_onEachFeature}),demo2010=new L.GeoJSON.AJAX("geography/race2010-min.geojson",{style:demoStyle,onEachFeature:demo_onEachFeature}),states=new L.GeoJSON.AJAX("geography/states-min.geojson",{style:statesStyle,pane:"labels"}).addTo(map),sidebar=L.control.sidebar("sidebar").addTo(map),collapse_sidebar("sbar-header"),collapse_sidebar("sbar-table"),document.getElementById("disable_legend").addEventListener("click",function(){document.getElementById("disable_legend").checked?map.removeControl(currentLegend):map.addControl(currentLegend)}),document.getElementById("bigMapMode").addEventListener("click",function(){if(document.getElementById("bigMapMode").checked){var e=document.getElementsByTagName("body")[0],t=document.getElementsByTagName("html")[0];e.style.padding="0",e.style.height="100%",t.style.height="100%",map.invalidateSize()}else{var e=document.getElementsByTagName("body")[0],t=document.getElementsByTagName("html")[0];e.style.padding="70px 2% 0 2%",e.style.height="94%",t.style.height="94%",map.invalidateSize()}}),$("#sidebar").draggable(),$("#sidebar").draggable("option","handle","h1, #info_chart, #table, #settings, #sbar-tabs"),L.control.scale().addTo(map),new L.Control.Zoom({position:"topright"}).addTo(map),electionLegend=L.control({position:"bottomright"}),electionLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return t.innerHTML+='<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="electionlegend1"></td><td>30%+ D</td></tr><tr><td class="color" id="electionlegend2"></td><td>20-30% D</td></tr></tr><tr><td class="color" id="electionlegend3"></td><td>10-20% D</td></tr></tr><tr><td class="color" id="electionlegend4"></td><td>0-10% D</td></tr></tr><tr><td class="color" id="electionlegend5"></td><td>0-10% R</td></tr></tr><tr><td class="color" id="electionlegend6"></td><td>10-20% R</td></tr></tr><tr><td class="color" id="electionlegend7"></td><td>20-30% R</td></tr></tr><tr><td class="color" id="electionlegend8"></td><td>30%+ R</td></tr>',t},censusLegend=L.control({position:"bottomright"}),censusLegend.onAdd=function(e){var t=L.DomUtil.create("div","legend");return t.innerHTML+='<table id="legendTable" cellspacing="0" style="width:100%"><tr><td class="color" id="colorlegend1"></td><td>30%+</td></tr><tr><td class="color" id="colorlegend2"></td><td>25-30%</td></tr></tr><tr><td class="color" id="colorlegend3"></td><td>20-25%</td></tr></tr><tr><td class="color" id="colorlegend4"></td><td>15-20%</td></tr></tr><tr><td class="color" id="colorlegend5"></td><td>10-15%</td></tr></tr><tr><td class="color" id="colorlegend6"></td><td>5-10%</td></tr></tr><tr><td class="color" id="colorlegend7"></td><td>0-5%</td></tr></tr><tr><td class="color" id="colorlegend8"></td><td>-5-0%</td></tr></tr><tr><td class="color" id="colorlegend9"></td><td><-5%</td></tr>',
t},demoLegend=L.control({position:"bottomright"}),demoLegend.onAdd=function(e){for(var t=L.DomUtil.create("div","legend"),a=[0,60,65,70,75,80,85,90,95],o=0;o<a.length;o++)t.innerHTML+='<i style="background:'+demoGetColor(a[o]+.01)+'"></i> '+a[o]+(a[o+1]?"&ndash;"+a[o+1]+"%<br>":"%+");return t},electionLegend.addTo(map),currentLegend=electionLegend,election2012.on("data:loaded",function(){$(".loader").fadeOut("slow")}),$(window).width()<450&&(document.getElementById("sidebar").className="sidebar sidebar-left",document.getElementById("infotab").className="active",document.getElementById("info_chart").className="sidebar-pane ui-draggable-handle active",document.getElementById("userMessage").innerHTML="Scroll down for info charts and map options.",document.getElementById("countySearch").innerHTML="<input type='text' id='county_search' class='form-control' placeholder='Find a county'/>",document.getElementById("searchDiv").innerHTML=""),options={data:coordinates,getValue:"County",list:{maxNumberOfElements:6,match:{enabled:!0},onChooseEvent:function(){var e=$("#county_search").getSelectedItemData().Latitude,t=$("#county_search").getSelectedItemData().Longitude;map.setView([e,t],9)}}},$("#county_search").easyAutocomplete(options),currentMap=election2016,currentTable=document.getElementById("election_table"),document.getElementById("mapTitleText").innerHTML="<center>2016: PRESIDENTIAL ELECTION RESULTS</center>",$("#election_08, #election_08s").click(function(){map.addLayer(election2008),map.removeLayer(currentMap),currentMap=election2008,document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2008: PRESIDENTIAL ELECTION RESULTS</center>",map.removeControl(currentLegend),currentLegend=electionLegend,electionLegend.addTo(map),currentTable.style.display="none",currentTable=document.getElementById("election_table"),currentTable.style.display="inline"}),$("#election_12, #election_12s").click(function(){map.addLayer(election2012),map.removeLayer(currentMap),currentMap=election2012,document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2012: PRESIDENTIAL ELECTION RESULTS</center>",map.removeControl(currentLegend),currentLegend=electionLegend,electionLegend.addTo(map),currentTable.style.display="none",currentTable=document.getElementById("election_table"),currentTable.style.display="inline"}),$("#election_16, #election_16s").click(function(){map.addLayer(election2016),map.removeLayer(currentMap),currentMap=election2016,document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2016: PRESIDENTIAL ELECTION RESULTS</center>",map.removeControl(currentLegend),currentLegend=electionLegend,electionLegend.addTo(map),currentTable.style.display="none",currentTable=document.getElementById("election_table"),currentTable.style.display="inline"}),$("#census_00, #census_00s").click(function(){map.addLayer(census2000),map.removeLayer(currentMap),currentMap=census2000,document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2000: POPULATION GROWTH SINCE 1990 </center>",map.removeControl(currentLegend),currentLegend=censusLegend,censusLegend.addTo(map),currentTable.style.display="none",currentTable=document.getElementById("census_table"),currentTable.style.display="inline"}),$("#census_10, #census_10s").click(function(){map.addLayer(census2010),map.removeLayer(currentMap),currentMap=census2010,document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2010: POPULATION GROWTH SINCE 2000 </center>",map.removeControl(currentLegend),currentLegend=censusLegend,censusLegend.addTo(map),currentTable.style.display="none",currentTable=document.getElementById("census_table"),currentTable.style.display="inline"}),$("#demo_00, #demo_00s").click(function(){map.addLayer(demo2000),map.removeLayer(currentMap),currentMap=demo2000,document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2000: PERCENT WHITE </center>",map.removeControl(currentLegend),currentLegend=demoLegend,demoLegend.addTo(map),currentTable.style.display="none",currentTable=document.getElementById("demo_table"),currentTable.style.display="inline"}),$("#demo_10, #demo_10s").click(function(){map.addLayer(demo2010),map.removeLayer(currentMap),currentMap=demo2010,document.getElementById("chart_container").innerHTML='<canvas id="myChart" height="90px" width="100px"></canvas>',document.getElementById("mapTitleText").innerHTML="<center>2010: PERCENT WHITE </center>",map.removeControl(currentLegend),currentLegend=demoLegend,demoLegend.addTo(map),currentTable.style.display="none",currentTable=document.getElementById("demo_table"),currentTable.style.display="inline"}),$(".state_outlines").click(function(){map.hasLayer(states)===!1?map.addLayer(states):map.removeLayer(states)}),$(".base_map").click(function(){map.hasLayer(osm)===!1?map.addLayer(osm):map.removeLayer(osm)}),$(".selectMode").click(function(){selectMode=selectMode===!1?!0:!1,selectList=[],$("#electionTest").html(selectList),currentMap.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})}),$(".clearSelection").click(function(){selectList=[],$("#electionTest").html(selectList),demTot=0,repTot=0,othTot=0,totalPop=0,total10=0,total00=0,total90=0,total80=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,currentMap.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})}),$(".layercontrol").click(function(){selectList=[],$("#electionTest").html(selectList),demTot=0,repTot=0,othTot=0,totalPop=0,total10=0,total00=0,total90=0,total80=0,whiteTot=0,blackTot=0,nativeTot=0,asianTot=0,pacificTot=0,multiracialTot=0,hispanicTot=0,currentMap.setStyle({weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7})});